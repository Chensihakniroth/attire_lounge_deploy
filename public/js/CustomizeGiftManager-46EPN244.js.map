{
  "version": 3,
  "sources": ["../../resources/js/components/pages/admin/CustomizeGiftManager.jsx"],
  "sourcesContent": ["import React, { useState, useEffect, useCallback } from 'react';\nimport { User, Mail, Phone, Gift, AlertTriangle, Loader, CheckCircle, XCircle, Trash2 } from 'lucide-react';\nimport { useAdmin } from './AdminContext';\n\nconst GiftRequestCard = ({ request, onUpdate, onDelete }) => {\n    const [isUpdating, setIsUpdating] = useState(false);\n\n    const handleUpdate = async (status) => {\n        setIsUpdating(true);\n        await onUpdate(request.id, status);\n        setIsUpdating(false);\n    };\n\n    const handleDelete = async () => {\n        if (window.confirm('Are you sure you want to permanently delete this request?')) {\n            setIsUpdating(true);\n            await onDelete(request.id);\n        }\n    };\n    \n    const statusStyles = {\n        Pending: 'border-yellow-500',\n        Reviewed: 'border-blue-500',\n        Completed: 'border-green-500',\n        Cancelled: 'border-red-500',\n    };\n    \n    const statusBadgeStyles = {\n        Pending: 'bg-yellow-100 text-yellow-800',\n        Reviewed: 'bg-blue-100 text-blue-800',\n        Completed: 'bg-green-100 text-green-800',\n        Cancelled: 'bg-red-100 text-red-800',\n    }\n\n    return (\n        <div \n            className={`bg-gray-800 p-5 rounded-xl shadow-md border-l-4 ${statusStyles[request.status]} transition duration-200 ease-out hover:-translate-y-1 hover:shadow-xl border-t border-r border-b border-gray-700/50 hover:border-gray-600`}\n        >\n            <div className=\"flex justify-between items-start pb-3 mb-3 border-b border-gray-700\">\n                <div className=\"flex items-center\">\n                    <User className=\"w-5 h-5 text-gray-400 mr-3\" />\n                    <h3 className=\"text-lg font-semibold text-white\">{request.name}</h3>\n                </div>\n                <span className={`px-3 py-1 text-xs font-bold uppercase rounded-full ${statusBadgeStyles[request.status]}`}>\n                    {request.status}\n                </span>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3 text-sm\">\n                <div className=\"flex items-center text-gray-400\">\n                    <Mail className=\"w-4 h-4 mr-3 flex-shrink-0\" />\n                    <a href={`mailto:${request.email}`} className=\"hover:text-blue-500 truncate text-sm\">{request.email}</a>\n                </div>\n                <div className=\"flex items-center text-gray-400\">\n                    <Phone className=\"w-4 h-4 mr-3 flex-shrink-0\" />\n                    <span className=\"text-sm\">{request.phone}</span>\n                </div>\n            </div>\n            <div className=\"mt-4 pt-4 border-t border-gray-700\">\n                <p className=\"font-semibold text-white text-sm mb-1\">Preferences</p>\n                <div className=\"flex items-start text-gray-400 text-sm\">\n                    <Gift className=\"w-4 h-4 mr-3 mt-0.5 flex-shrink-0\" />\n                    <pre className=\"whitespace-pre-wrap font-sans italic\">{request.preferences}</pre>\n                </div>\n            </div>\n            {request.status === 'Pending' && (\n                <div className=\"mt-4 pt-4 border-t border-gray-700 flex items-center justify-end gap-2\">\n                    <button onClick={() => handleUpdate('Completed')} disabled={isUpdating} className=\"px-3 py-1 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-md flex items-center gap-1 disabled:bg-gray-400\">\n                        <CheckCircle size={14} /> Mark Done\n                    </button>\n                    <button onClick={() => handleUpdate('Cancelled')} disabled={isUpdating} className=\"px-3 py-1 text-sm font-semibold text-white bg-red-500 hover:bg-red-600 rounded-md flex items-center gap-1 disabled:bg-gray-400\">\n                        <XCircle size={14} /> Cancel\n                    </button>\n                </div>\n            )}\n            {(request.status === 'Completed' || request.status === 'Cancelled') && (\n                 <div className=\"mt-4 pt-4 border-t border-gray-700 flex items-center justify-end\">\n                    <button onClick={handleDelete} disabled={isUpdating} className=\"px-3 py-1 text-sm font-semibold text-gray-400 hover:bg-gray-600 rounded-md flex items-center gap-1 disabled:opacity-50\">\n                        <Trash2 size={14} /> Delete\n                    </button>\n                 </div>\n            )}\n        </div>\n    );\n};\n\nconst CustomizeGiftManager = () => {\n    const { \n        giftRequests, \n        giftRequestsLoading, \n        fetchGiftRequests, \n        updateGiftRequestStatus, \n        deleteGiftRequest \n    } = useAdmin();\n\n    useEffect(() => {\n        fetchGiftRequests(); // Use context fetcher\n        const intervalId = setInterval(() => fetchGiftRequests(false), 60000); \n        return () => clearInterval(intervalId);\n    }, [fetchGiftRequests]);\n\n    const handleUpdate = useCallback(async (id, status) => {\n        try {\n            await updateGiftRequestStatus(id, status);\n        } catch (err) {\n            console.error('Failed to update status:', err);\n        }\n    }, [updateGiftRequestStatus]);\n\n    const handleDelete = useCallback(async (id) => {\n        try {\n            await deleteGiftRequest(id);\n        } catch (err) {\n            console.error('Failed to delete request:', err);\n        }\n    }, [deleteGiftRequest]);\n\n    const renderContent = () => {\n        if (giftRequestsLoading && giftRequests.length === 0) {\n            return (\n                <div className=\"flex justify-center items-center h-64\">\n                    <Loader className=\"animate-spin text-purple-500\" size={48} />\n                </div>\n            );\n        }\n\n        if (giftRequests.length === 0 && !giftRequestsLoading) {\n            return <p className=\"text-center text-gray-400\">No gift requests found.</p>;\n        }\n\n        return (\n            <div \n                className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\"\n            >\n                {giftRequests.map(request => (\n                    <GiftRequestCard \n                        key={request.id} \n                        request={request} \n                        onUpdate={handleUpdate}\n                        onDelete={handleDelete}\n                    />\n                ))}\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div>\n                <h1 className=\"text-3xl font-bold text-white\">Customize Gift Requests</h1>\n                <p className=\"mt-1 text-gray-400\">Review and manage customized gift inquiries from customers.</p>\n            </div>\n            {renderContent()}\n        </div>\n    );\n};\n\nexport default CustomizeGiftManager;\n"],
  "mappings": "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",
  "names": ["React"]
}
