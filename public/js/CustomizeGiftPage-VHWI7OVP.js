import{a as G}from"./chunk-BGHPYFGX.js";import"./chunk-7NULPFGR.js";import{a as p}from"./chunk-4RJZMIPG.js";import{C as T,H as z,b as q,g as f,n as B,t as C,w as P}from"./chunk-LBOHVSUJ.js";import{a as i}from"./chunk-HWTUSBUV.js";import{c as D,d as I}from"./chunk-G5YI4KV6.js";var e=D(I());var h={ties:[{id:"tie-brown69",name:"Silk Tie",color:"Brown",image:`${i}/uploads/collections/accessories/brown69.jpg`},{id:"tie-cream49",name:"Silk Tie",color:"Cream",image:`${i}/uploads/collections/accessories/cream49.jpg`},{id:"tie-cyan69",name:"Silk Tie",color:"Cyan",image:`${i}/uploads/collections/accessories/cyan69.jpg`},{id:"tie-blue69",name:"Silk Tie",color:"Blue",image:`${i}/uploads/collections/accessories/blue69.jpg`},{id:"tie-green49",name:"Silk Tie",color:"Green",image:`${i}/uploads/collections/accessories/green49.jpg`},{id:"tie-white69",name:"Silk Tie",color:"White",image:`${i}/uploads/collections/accessories/white69.jpg`},{id:"tie-red69",name:"Silk Tie",color:"Red",image:`${i}/uploads/collections/accessories/red69.jpg`}],pocketSquares:[{id:"ps-blue",name:"Linen Pocket Square",color:"Blue",image:`${i}/uploads/collections/accessories/psblue.jpg`},{id:"ps-green",name:"Linen Pocket Square",color:"Green",image:`${i}/uploads/collections/accessories/psgreen.jpg`},{id:"ps-pink",name:"Linen Pocket Square",color:"Pink",image:`${i}/uploads/collections/accessories/pspink.jpg`},{id:"ps-red",name:"Linen Pocket Square",color:"Red",image:`${i}/uploads/collections/accessories/psred.jpg`},{id:"ps-yellowgreen",name:"Linen Pocket Square",color:"Yellow Green",image:`${i}/uploads/collections/accessories/psyellowgreen.jpg`},{id:"ps-yellow",name:"Linen Pocket Square",color:"Yellow",image:`${i}/uploads/collections/accessories/psyellow.jpg`}],boxes:[{id:"box-small",name:"Small Box",image:`${i}/uploads/collections/accessories/smallbox.jpg`},{id:"box-mid",name:"Mid Box",image:`${i}/uploads/collections/accessories/midbox.jpg`},{id:"box-designer",name:"Designer Box",image:`${i}/uploads/collections/accessories/designer_box.jpg`}]},N=({item:l,isSelected:n,onSelect:o})=>e.default.createElement(p.div,{onClick:o,className:`relative rounded-lg overflow-hidden border-2 cursor-pointer transition-all duration-300 ${n?"border-attire-accent":"border-transparent"}`,whileHover:{scale:1.05}},e.default.createElement("div",{className:"absolute inset-0 bg-black/20 z-10"}),e.default.createElement("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover"}),e.default.createElement("div",{className:"absolute bottom-0 left-0 p-3 z-20"},e.default.createElement("h4",{className:"font-semibold text-white"},l.name),l.color&&e.default.createElement("p",{className:"text-sm text-white/80"},l.color)),n&&e.default.createElement(p.div,{layoutId:`selected-check-${l.id}`,className:"absolute top-2 right-2 bg-attire-accent text-attire-dark rounded-full w-6 h-6 flex items-center justify-center z-20"},e.default.createElement(f,{size:16}))),w=({icon:l,...n})=>e.default.createElement("div",{className:"relative"},e.default.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},l),e.default.createElement("input",{...n,className:"w-full pl-10 p-3 rounded-lg border bg-attire-dark/50 text-attire-cream placeholder-attire-silver/70 focus:border-white focus:ring-1 focus:ring-white transition-colors"})),O=()=>{let[l,n]=(0,e.useState)(1),[o,u]=(0,e.useState)({name:"",email:"",phone:""}),[a,y]=(0,e.useState)(null),[r,S]=(0,e.useState)(null),[d,b]=(0,e.useState)(null),[g,k]=(0,e.useState)(""),[m,x]=(0,e.useState)({state:"idle"}),[c,v]=(0,e.useState)({}),[$,E]=(0,e.useState)([]);(0,e.useEffect)(()=>{let t=[];a&&r?t=h.boxes:a&&!r?t=h.boxes.filter(s=>s.id!=="box-designer"):t=[],E(t),d&&!t.some(s=>s.id===d.id)&&b(null)},[a,r]),(0,e.useEffect)(()=>{m.state==="success"&&window.scrollTo(0,0)},[m.state]);let j=a&&r&&d,F=t=>{t.preventDefault();let s={};if(o.name.trim()||(s.name="Name is required."),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(s.email="Email is invalid."):s.email="Email is required.",o.phone.trim()||(s.phone="Phone is required."),Object.keys(s).length>0){v(s);return}v({}),n(2)},L=async()=>{if(!j)return;let t=`
Tie: ${a.name} (${a.color})
Pocket Square: ${r.name} (${r.color})
Box: ${d.name}
${g?`Note: "${g}"`:""}
        `.trim(),s={...o,preferences:t};x({state:"loading"});try{await G.submitGiftRequest(s),x({state:"success"})}catch{x({state:"error",message:"Something went wrong. Please try again."})}},A=()=>{n(1),u({name:"",email:"",phone:""}),y(null),S(null),b(null),k(""),x({state:"idle"}),v({})};return m.state==="success"?e.default.createElement("div",{className:"min-h-screen bg-attire-navy py-12 md:py-24 flex items-center justify-center"},e.default.createElement(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-md w-full mx-auto px-4"},e.default.createElement("div",{className:"bg-attire-dark/40 backdrop-blur-lg rounded-2xl border border-white/10 shadow-lg p-8 text-center"},e.default.createElement(f,{size:48,className:"mx-auto text-green-400 mb-4"}),e.default.createElement("h1",{className:"text-3xl font-serif text-white mb-4"},"Request Sent!"),e.default.createElement("p",{className:"text-attire-silver mb-8"},"Thank you, ",o.name,". We have received your custom gift request and will contact you shortly."),e.default.createElement("button",{onClick:A,className:"text-attire-accent hover:text-white transition-colors font-semibold"},"Create Another Gift")))):e.default.createElement("div",{className:"min-h-screen bg-attire-navy py-12 md:py-24"},e.default.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},e.default.createElement("div",{className:"text-center mb-12"},e.default.createElement("h1",{className:"text-4xl md:text-5xl font-serif text-white mb-4"},"Customize a Gift Box"),e.default.createElement("p",{className:"text-lg text-attire-silver max-w-2xl mx-auto"},"Follow the steps to create a unique and thoughtful gift.")),l===1&&e.default.createElement(p.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-xl mx-auto"},e.default.createElement("div",{className:"bg-attire-dark/20 backdrop-blur-sm rounded-xl p-8"},e.default.createElement("h2",{className:"text-2xl font-serif text-white mb-6"},"Step 1: Your Details"),e.default.createElement("form",{onSubmit:F,className:"space-y-4"},e.default.createElement(w,{icon:e.default.createElement(z,{size:16,className:"text-gray-400"}),type:"text",placeholder:"Full Name",value:o.name,onChange:t=>u({...o,name:t.target.value})}),c.name&&e.default.createElement("p",{className:"text-red-400 text-sm"},c.name),e.default.createElement(w,{icon:e.default.createElement(P,{size:16,className:"text-gray-400"}),type:"email",placeholder:"Email Address",value:o.email,onChange:t=>u({...o,email:t.target.value})}),c.email&&e.default.createElement("p",{className:"text-red-400 text-sm"},c.email),e.default.createElement(w,{icon:e.default.createElement(T,{size:16,className:"text-gray-400"}),type:"tel",placeholder:"Phone Number",value:o.phone,onChange:t=>u({...o,phone:t.target.value})}),c.phone&&e.default.createElement("p",{className:"text-red-400 text-sm"},c.phone),e.default.createElement("button",{type:"submit",className:"w-full mt-4 px-6 py-3 rounded-lg font-semibold transition-all duration-300 flex items-center justify-center gap-2 bg-attire-accent text-attire-dark hover:opacity-90"},"Next Step ",e.default.createElement(q,{size:20}))))),l===2&&e.default.createElement(p.div,{initial:{opacity:0},animate:{opacity:1}},e.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},e.default.createElement("div",{className:"lg:col-span-2 space-y-12"},e.default.createElement("section",null,e.default.createElement("h2",{className:"text-2xl font-serif text-white mb-6"},"Step 2: Choose Items"),e.default.createElement("div",{className:"space-y-8"},e.default.createElement("div",null,e.default.createElement("h3",{className:"text-xl font-semibold text-white/90 mb-4"},"Ties"),e.default.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},h.ties.map(t=>e.default.createElement(N,{key:t.id,item:t,isSelected:a?.id===t.id,onSelect:()=>y(s=>s?.id===t.id?null:t)})))),e.default.createElement("div",null,e.default.createElement("h3",{className:"text-xl font-semibold text-white/90 mb-4"},"Pocket Squares"),e.default.createElement("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4"},h.pocketSquares.map(t=>e.default.createElement(N,{key:t.id,item:t,isSelected:r?.id===t.id,onSelect:()=>S(s=>s?.id===t.id?null:t)})))),$.length>0&&e.default.createElement("div",null,e.default.createElement("h3",{className:"text-xl font-semibold text-white/90 mb-4"},"Boxes"),e.default.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4"},$.map(t=>e.default.createElement(N,{key:t.id,item:t,isSelected:d?.id===t.id,onSelect:()=>b(s=>s?.id===t.id?null:t)})))))),e.default.createElement("section",null,e.default.createElement("h2",{className:"text-2xl font-serif text-white mb-6"},"Step 3: Personal Note (Optional)"),e.default.createElement("textarea",{value:g,onChange:t=>k(t.target.value),placeholder:"e.g. Happy Birthday, John!",className:"w-full p-4 rounded-lg border bg-attire-dark/50 text-attire-cream placeholder-attire-silver/70 focus:border-white focus:ring-1 focus:ring-white transition-colors resize-none",rows:"4"}))),e.default.createElement("div",{className:"lg:col-span-1"},e.default.createElement("div",{className:"sticky top-24 bg-attire-dark/40 backdrop-blur-lg rounded-2xl border border-white/10 shadow-lg p-6"},e.default.createElement("h3",{className:"text-xl font-serif text-white mb-4"},"Summary"),e.default.createElement("div",{className:"space-y-3 text-sm"},e.default.createElement("p",null,e.default.createElement("strong",{className:"font-semibold text-white/90"},"Name:")," ",o.name),e.default.createElement("p",null,e.default.createElement("strong",{className:"font-semibold text-white/90"},"Email:")," ",o.email),e.default.createElement("p",null,e.default.createElement("strong",{className:"font-semibold text-white/90"},"Tie:")," ",a?`${a.name} (${a.color})`:"Not selected"),e.default.createElement("p",null,e.default.createElement("strong",{className:"font-semibold text-white/90"},"Pocket Square:")," ",r?`${r.name} (${r.color})`:"Not selected"),e.default.createElement("p",null,e.default.createElement("strong",{className:"font-semibold text-white/90"},"Box:")," ",d?d.name:"Not selected"),e.default.createElement("p",null,e.default.createElement("strong",{className:"font-semibold text-white/90"},"Note:")," ",g||"None")),e.default.createElement("div",{className:"border-t border-white/10 my-6"}),m.state==="error"&&e.default.createElement("p",{className:"text-red-400 text-center mb-4"},m.message),e.default.createElement("button",{onClick:L,disabled:!j||m.state==="loading",className:"w-full px-6 py-3 rounded-lg font-semibold transition-all duration-300 flex items-center justify-center gap-2 bg-attire-accent text-attire-dark disabled:bg-gray-500 disabled:cursor-not-allowed hover:opacity-90"},m.state==="loading"?e.default.createElement(C,{className:"animate-spin",size:20}):e.default.createElement(e.default.Fragment,null,e.default.createElement(B,{size:20})," Submit Request")),e.default.createElement("button",{onClick:()=>n(1),className:"w-full text-center mt-4 text-attire-silver hover:text-white text-sm"},"Back to details")))))))},Q=O;export{Q as default};
