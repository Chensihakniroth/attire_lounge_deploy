{
  "version": 3,
  "sources": ["../../resources/js/components/pages/admin/AdminDashboard.jsx", "../../resources/js/components/common/ErrorBoundary.jsx", "../../resources/js/components/common/Skeleton.jsx"],
  "sourcesContent": ["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Calendar, Gift, ImageIcon, ArrowRight, Clock, AlertTriangle, User } from 'lucide-react';\nimport ErrorBoundary from '../../common/ErrorBoundary.jsx';\nimport Skeleton from '../../common/Skeleton.jsx';\nimport { motion } from 'framer-motion';\nimport { useAdmin } from './AdminContext';\n\nconst cardVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.4 } }\n};\n\nconst StatCard = ({ icon, title, value, link, loading }) => {\n    if (loading) {\n        return (\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-sm\">\n                <Skeleton className=\"h-12 w-12 rounded-full\" />\n                <Skeleton className=\"h-8 w-1/4 mt-4\" />\n                <Skeleton className=\"h-4 w-1/2 mt-1\" />\n            </div>\n        );\n    }\n\n    return (\n        <motion.div \n            variants={cardVariants} \n            className=\"bg-gray-800 p-6 rounded-xl shadow-md border border-gray-700/50 \n                       transform transition duration-200 ease-out\n                       hover:-translate-y-1 hover:shadow-xl hover:border-gray-600 hover:bg-gray-750\"\n        >\n            <div className=\"flex justify-between items-start\">\n                <div className=\"flex items-center justify-center h-12 w-12 rounded-full bg-gray-700 group-hover:bg-gray-600 transition-colors\">\n                    {icon}\n                </div>\n                {link && (\n                    <Link to={link} className=\"p-2 text-gray-400 hover:text-white transition-colors bg-gray-700/50 rounded-lg hover:bg-gray-600\">\n                        <ArrowRight size={20} />\n                    </Link>\n                )}\n            </div>\n            <div className=\"mt-4\">\n                <p className=\"text-3xl font-bold text-white tracking-tight\">\n                    {value}\n                </p>\n                <p className=\"text-sm font-medium text-gray-400 mt-1 uppercase tracking-wider\">{title}</p>\n            </div>\n        </motion.div>\n    );\n};\n\nconst RecentActivityItem = ({ item }) => (\n    <motion.li \n        initial={{ opacity: 0, x: -20 }}\n        animate={{ opacity: 1, x: 0 }}\n        transition={{ duration: 0.3 }}\n        className=\"py-4 px-4 flex items-center justify-between border-b border-gray-700/50 last:border-0 rounded-lg \n                   transition duration-200 ease-out hover:bg-gray-700/30 hover:translate-x-1\"\n    >\n        <div className=\"flex items-center space-x-4\">\n            <div className=\"h-10 w-10 flex items-center justify-center bg-gray-700 rounded-full\">\n                <User className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <div>\n                <p className=\"font-medium text-white\">{item.name}</p>\n                <p className=\"text-sm text-gray-400\">{item.service}</p>\n            </div>\n        </div>\n        <div className=\"text-sm text-gray-400 flex items-center\">\n            <Clock size={14} className=\"mr-2\" />\n            <span>{new Date(item.created_at).toLocaleDateString()}</span>\n        </div>\n    </motion.li>\n);\n\nconst RecentActivitySkeleton = () => (\n    <div className=\"space-y-4\">\n        {[...Array(5)].map((_, i) => (\n            <div key={i} className=\"flex items-center space-x-4\">\n                <Skeleton className=\"h-10 w-10 rounded-full\" />\n                <div className=\"flex-1 space-y-2\">\n                    <Skeleton className=\"h-4 w-3/4\" />\n                    <Skeleton className=\"h-4 w-1/2\" />\n                </div>\n            </div>\n        ))}\n    </div>\n);\n\nconst AdminDashboard = () => {\n    const { \n        appointments, \n        appointmentsLoading, \n        fetchAppointments,\n        giftRequests,\n        giftRequestsLoading,\n        fetchGiftRequests,\n        stats\n    } = useAdmin();\n\n    useEffect(() => {\n        fetchAppointments();\n        fetchGiftRequests();\n    }, [fetchAppointments, fetchGiftRequests]);\n\n    // Derived state for recent appointments (no need to sort if backend does, but for safety/limit we slice)\n    const recentAppointments = appointments.slice(0, 5);\n    \n    // Show loading only if we have NO data and are loading. \n    // If we have cached data, show it immediately (stale-while-revalidate).\n    const isLoading = (appointmentsLoading && appointments.length === 0) || (giftRequestsLoading && giftRequests.length === 0);\n\n    const containerVariants = {\n        hidden: { opacity: 0 },\n        visible: {\n            opacity: 1,\n            transition: {\n                staggerChildren: 0.1\n            }\n        }\n    };\n\n    return (\n        <ErrorBoundary>\n            <motion.div \n                className=\"space-y-8\"\n                initial=\"hidden\"\n                animate=\"visible\"\n                variants={containerVariants}\n            >\n                <motion.div variants={cardVariants}>\n                    <h1 className=\"text-3xl font-bold text-white\">Welcome, Admin</h1>\n                    <p className=\"mt-1 text-gray-400\">Here's a snapshot of your store's activity.</p>\n                </motion.div>\n\n                <motion.div \n                    className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\n                    variants={containerVariants}\n                >\n                    <StatCard icon={<Calendar className=\"text-blue-500\" />} title=\"Total Appointments\" value={stats.appointments} link=\"/admin/appointments\" loading={isLoading} />\n                    <StatCard icon={<Gift className=\"text-green-500\" />} title=\"Gift Requests\" value={stats.gifts} link=\"/admin/customize-gift\" loading={isLoading} />\n                </motion.div>\n\n                <motion.div variants={cardVariants} className=\"bg-gray-800 p-6 rounded-xl shadow-sm\">\n                    <h2 className=\"text-lg font-semibold mb-4 text-white\">Recent Activity</h2>\n                    {isLoading ? (\n                        <RecentActivitySkeleton />\n                    ) : recentAppointments.length > 0 ? (\n                        <motion.ul \n                            className=\"divide-y divide-gray-700\"\n                            initial=\"hidden\"\n                            animate=\"visible\"\n                            variants={containerVariants}\n                        >\n                            {recentAppointments.map(app => (\n                                <RecentActivityItem key={app.id} item={app} />\n                            ))}\n                        </motion.ul>\n                    ) : (\n                        <p className=\"text-gray-400\">No recent appointments found.</p>\n                    )}\n                </motion.div>\n            </motion.div>\n        </ErrorBoundary>\n    );\n};\n\nexport default AdminDashboard;\n", "import React from 'react';\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false };\n    }\n\n    static getDerivedStateFromError(error) {\n        return { hasError: true };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        console.error('React Error Boundary caught:', error, errorInfo);\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return (\n                <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n                    <div className=\"text-center p-8\">\n                        <div className=\"text-4xl mb-4\">\u26A0\uFE0F</div>\n                        <h2 className=\"text-2xl font-semibold mb-4\">Something went wrong</h2>\n                        <p className=\"text-gray-600 mb-6\">We're working to fix this issue.</p>\n                        <button\n                            onClick={() => window.location.reload()}\n                            className=\"bg-attire-charcoal text-white px-6 py-2 rounded-full hover:bg-attire-dark transition\"\n                        >\n                            Reload Page\n                        </button>\n                    </div>\n                </div>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;\n", "import React from 'react';\n\nconst Skeleton = ({ className }) => (\n    <div className={`animate-pulse bg-gray-200 dark:bg-gray-700 rounded ${className}`} />\n);\n\nexport default Skeleton;\n"],
  "mappings": "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",
  "names": ["import_react", "import_react", "ErrorBoundary", "React", "props", "error", "errorInfo", "ErrorBoundary_default", "import_react", "Skeleton", "className", "React", "Skeleton_default", "cardVariants", "StatCard", "icon", "title", "value", "link", "loading", "React", "Skeleton_default", "motion", "Link", "ArrowRight", "RecentActivityItem", "item", "User", "Clock", "RecentActivitySkeleton", "_", "AdminDashboard", "appointments", "appointmentsLoading", "fetchAppointments", "giftRequests", "giftRequestsLoading", "fetchGiftRequests", "stats", "useAdmin", "recentAppointments", "isLoading", "containerVariants", "ErrorBoundary_default", "Calendar", "Gift", "app", "AdminDashboard_default"]
}
