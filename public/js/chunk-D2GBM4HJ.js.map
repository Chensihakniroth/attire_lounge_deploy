{
  "version": 3,
  "sources": ["../../node_modules/popmotion/dist/es/utils/wrap.mjs", "../../resources/js/components/pages/lookbook/Lightbox.jsx"],
  "sourcesContent": ["const wrap = (min, max, v) => {\n    const rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n", "import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ChevronLeft, ChevronRight, X, Share2, Download, Heart, Maximize2, Minimize } from 'lucide-react';\n\nconst lightboxVariants = {\n    hidden: { opacity: 0, backdropFilter: 'blur(0px)' },\n    visible: { opacity: 1, backdropFilter: 'blur(24px)' },\n};\n\nconst imageSlideVariants = {\n    enter: (direction) => ({\n        x: direction > 0 ? 100 : -100,\n        opacity: 0,\n        scale: 0.95\n    }),\n    center: {\n        zIndex: 1,\n        x: 0,\n        opacity: 1,\n        scale: 1\n    },\n};\n\nconst Lightbox = ({\n    selectedImage,\n    closeLightbox,\n    direction,\n    paginate,\n    toggleFavorite,\n    favorites\n}) => {\n    const [isFullscreen, setIsFullscreen] = useState(false);\n\n    if (!selectedImage) return null;\n\n    const handleToggleFullscreen = (e) => {\n        e.stopPropagation();\n        setIsFullscreen(!isFullscreen);\n    };\n\n    const handleShare = (e) => {\n        e.stopPropagation();\n        alert('Sharing feature to be implemented');\n    };\n\n    return (\n        <motion.div\n            variants={lightboxVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit=\"hidden\"\n            transition={{ duration: 0.4, ease: [0.22, 1, 0.36, 1] }}\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70\"\n            onClick={closeLightbox} // Always close lightbox on backdrop click\n        >\n            {/* Main Content */}\n            <div className=\"relative w-full h-full flex items-center justify-center\">\n                \n                <motion.button\n                    initial={{ scale: 0, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    transition={{ delay: 0.3, type: 'spring' }}\n                    onClick={closeLightbox}\n                    className=\"absolute top-8 right-8 z-[60] p-3 bg-white/10 backdrop-blur-md rounded-full hover:bg-white/20 transition-colors\"\n                    aria-label=\"Close\"\n                >\n                    <X className=\"w-6 h-6 text-white\" />\n                </motion.button>\n                \n                <AnimatePresence initial={false} custom={direction}>\n                    <motion.div\n                        // This single motion component now handles EVERYTHING\n                        key={selectedImage.id}\n                        variants={imageSlideVariants}\n                        custom={direction}\n                        initial=\"enter\"\n                        animate=\"center\"\n                        transition={{\n                            x: { type: \"spring\", stiffness: 300, damping: 30 },\n                            opacity: { duration: 0.2 },\n                            layout: { duration: 0.4, ease: [0.22, 1, 0.36, 1] }\n                        }}\n                        className={`absolute rounded-xl overflow-hidden shadow-2xl bg-black ${isFullscreen ? 'w-full h-full rounded-none' : 'w-[30rem] max-w-[90vw] aspect-[3/4]'}`}\n                        drag=\"x\"\n                        dragConstraints={{ left: 0, right: 0 }}\n                        dragElastic={0.1}\n                        onDragEnd={(e, { offset, velocity }) => {\n                            if (isFullscreen) return; // Disable drag navigation in fullscreen\n                            const swipe = Math.abs(offset.x);\n                            if (swipe > 50) paginate(offset.x > 0 ? -1 : 1);\n                        }}\n                        onClick={(e) => e.stopPropagation()} // Prevent closing lightbox when clicking on the image itself\n                    >\n                        <img\n                            src={selectedImage.src}\n                            alt={selectedImage.title}\n                            className={`w-full h-full ${isFullscreen ? 'object-contain' : 'object-cover'}`}\n                        />\n                        <div className=\"absolute inset-0 p-6 flex flex-col justify-between bg-gradient-to-t from-black/70 to-transparent\">\n                            <div>\n                                <h2 className=\"text-xl md:text-2xl font-serif text-white\">{selectedImage.title}</h2>\n                                <p className=\"text-sm text-attire-gold\">{selectedImage.collection}</p>\n                            </div>\n                            <div className=\"flex items-center self-end gap-3\">\n                                <button onClick={(e) => { e.stopPropagation(); toggleFavorite(selectedImage.id); }} className=\"p-3 rounded-full transition-colors\">\n                                    <Heart className={`w-5 h-5 transition-all ${favorites.includes(selectedImage.id) ? 'fill-red-500 text-red-500' : 'text-white'}`} />\n                                </button>\n                                <button onClick={handleToggleFullscreen} className=\"p-3 rounded-full transition-colors\">\n                                    {isFullscreen ? <Minimize className=\"w-5 h-5 text-white\" /> : <Maximize2 className=\"w-5 h-5 text-white\" />}\n                                </button>\n                            </div>\n                        </div>\n                    </motion.div>\n                </AnimatePresence>\n\n                {!isFullscreen && ( // Navigation buttons hidden in fullscreen mode\n                    <div onClick={(e) => e.stopPropagation()}>\n                        <button onClick={() => paginate(-1)} className=\"absolute left-4 md:left-10 xl:left-24 p-3 bg-white/10 backdrop-blur-md rounded-full hover:bg-white/20 transition-colors\">\n                            <ChevronLeft className=\"w-7 h-7 text-white\" />\n                        </button>\n                        <button onClick={() => paginate(1)} className=\"absolute right-4 md:right-10 xl:right-24 p-3 bg-white/10 backdrop-blur-md rounded-full hover:bg-white/20 transition-colors\">\n                            <ChevronRight className=\"w-7 h-7 text-white\" />\n                        </button>\n                    </div>\n                )}\n            </div>\n        </motion.div>\n    );\n};\n\nexport default Lightbox;"],
  "mappings": "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",
  "names": ["React"]
}
