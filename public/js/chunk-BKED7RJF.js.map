{
  "version": 3,
  "sources": ["../../resources/js/api.js"],
  "sourcesContent": ["import axios from 'axios';\n\n// Cache configuration\nconst CACHE_PREFIX = 'attire_cache_';\nconst CACHE_TTL = 15 * 60 * 1000; // 15 minutes\n\n// Helper to get data from cache\nconst getCached = (key) => {\n    try {\n        const item = localStorage.getItem(CACHE_PREFIX + key);\n        if (!item) return null;\n        \n        const { value, timestamp } = JSON.parse(item);\n        if (Date.now() - timestamp > CACHE_TTL) {\n            localStorage.removeItem(CACHE_PREFIX + key);\n            return null;\n        }\n        return value;\n    } catch (e) {\n        return null;\n    }\n};\n\n// Helper to set data to cache\nconst setCached = (key, value) => {\n    try {\n        const item = { value, timestamp: Date.now() };\n        localStorage.setItem(CACHE_PREFIX + key, JSON.stringify(item));\n    } catch (e) {\n        console.warn('Failed to cache data', e);\n    }\n};\n\n// Helper to extract data from axios response\nconst getData = (response) => response.data;\n\n// Fetch with caching strategy for GET requests\nconst fetchWithCache = async (url, params = {}) => {\n    const queryString = new URLSearchParams(params).toString();\n    const cacheKey = `${url}?${queryString}`;\n    \n    // Try cache first\n    const cachedData = getCached(cacheKey);\n    if (cachedData) {\n        return cachedData;\n    }\n\n    // Fallback to network\n    const response = await axios.get(url, { params });\n    const data = getData(response);\n    \n    // Save to cache\n    setCached(cacheKey, data);\n    return data;\n};\n\nconst API = {\n    // Fetch products with optional filters (Cached)\n    async getProducts(filters = {}) {\n        return await fetchWithCache('/api/v1/products', filters);\n    },\n\n    // Fetch featured products (Cached)\n    async getFeaturedProducts() {\n        return await fetchWithCache('/api/v1/products/featured');\n    },\n\n    // Fetch categories (Cached)\n    async getCategories() {\n        return await fetchWithCache('/api/v1/products/categories');\n    },\n\n    // Fetch collections (Cached)\n    async getCollections() {\n        return await fetchWithCache('/api/v1/products/collections');\n    },\n\n    // Fetch single product by slug (Cached)\n    async getProduct(slug) {\n        return await fetchWithCache(`/api/v1/products/${slug}`);\n    },\n\n    // Search products (Network only - usually too dynamic to cache effectively without short TTL)\n    async searchProducts(query) {\n        const response = await axios.get(`/api/v1/search?search=${encodeURIComponent(query)}`);\n        return getData(response);\n    },\n\n    // Submit a custom gift request\n    async submitGiftRequest(giftData) {\n        const response = await axios.post('/api/v1/gift-requests', giftData);\n        return getData(response);\n    },\n\n    async getGiftRequests() {\n        const response = await axios.get('/api/v1/gift-requests');\n        return getData(response);\n    },\n\n    async updateGiftRequestStatus(id, status) {\n        const response = await axios.patch(`/api/v1/gift-requests/${id}/status`, { status });\n        return getData(response);\n    },\n\n    async deleteGiftRequest(id) {\n        const response = await axios.delete(`/api/v1/gift-requests/${id}`);\n        // Axios handles 204 automatically, returning undefined data usually, which is fine\n        return getData(response);\n    }\n};\n\nexport default API;\n"],
  "mappings": ";;;;;AAGA,IAAM,eAAe;AACrB,IAAM,YAAY,KAAK,KAAK;AAG5B,IAAM,YAAY,CAAC,QAAQ;AACvB,MAAI;AACA,UAAM,OAAO,aAAa,QAAQ,eAAe,GAAG;AACpD,QAAI,CAAC,KAAM,QAAO;AAElB,UAAM,EAAE,OAAO,UAAU,IAAI,KAAK,MAAM,IAAI;AAC5C,QAAI,KAAK,IAAI,IAAI,YAAY,WAAW;AACpC,mBAAa,WAAW,eAAe,GAAG;AAC1C,aAAO;AAAA,IACX;AACA,WAAO;AAAA,EACX,SAAS,GAAG;AACR,WAAO;AAAA,EACX;AACJ;AAGA,IAAM,YAAY,CAAC,KAAK,UAAU;AAC9B,MAAI;AACA,UAAM,OAAO,EAAE,OAAO,WAAW,KAAK,IAAI,EAAE;AAC5C,iBAAa,QAAQ,eAAe,KAAK,KAAK,UAAU,IAAI,CAAC;AAAA,EACjE,SAAS,GAAG;AACR,YAAQ,KAAK,wBAAwB,CAAC;AAAA,EAC1C;AACJ;AAGA,IAAM,UAAU,CAAC,aAAa,SAAS;AAGvC,IAAM,iBAAiB,OAAO,KAAK,SAAS,CAAC,MAAM;AAC/C,QAAM,cAAc,IAAI,gBAAgB,MAAM,EAAE,SAAS;AACzD,QAAM,WAAW,GAAG,GAAG,IAAI,WAAW;AAGtC,QAAM,aAAa,UAAU,QAAQ;AACrC,MAAI,YAAY;AACZ,WAAO;AAAA,EACX;AAGA,QAAM,WAAW,MAAM,cAAM,IAAI,KAAK,EAAE,OAAO,CAAC;AAChD,QAAM,OAAO,QAAQ,QAAQ;AAG7B,YAAU,UAAU,IAAI;AACxB,SAAO;AACX;AAEA,IAAM,MAAM;AAAA;AAAA,EAER,MAAM,YAAY,UAAU,CAAC,GAAG;AAC5B,WAAO,MAAM,eAAe,oBAAoB,OAAO;AAAA,EAC3D;AAAA;AAAA,EAGA,MAAM,sBAAsB;AACxB,WAAO,MAAM,eAAe,2BAA2B;AAAA,EAC3D;AAAA;AAAA,EAGA,MAAM,gBAAgB;AAClB,WAAO,MAAM,eAAe,6BAA6B;AAAA,EAC7D;AAAA;AAAA,EAGA,MAAM,iBAAiB;AACnB,WAAO,MAAM,eAAe,8BAA8B;AAAA,EAC9D;AAAA;AAAA,EAGA,MAAM,WAAW,MAAM;AACnB,WAAO,MAAM,eAAe,oBAAoB,IAAI,EAAE;AAAA,EAC1D;AAAA;AAAA,EAGA,MAAM,eAAe,OAAO;AACxB,UAAM,WAAW,MAAM,cAAM,IAAI,yBAAyB,mBAAmB,KAAK,CAAC,EAAE;AACrF,WAAO,QAAQ,QAAQ;AAAA,EAC3B;AAAA;AAAA,EAGA,MAAM,kBAAkB,UAAU;AAC9B,UAAM,WAAW,MAAM,cAAM,KAAK,yBAAyB,QAAQ;AACnE,WAAO,QAAQ,QAAQ;AAAA,EAC3B;AAAA,EAEA,MAAM,kBAAkB;AACpB,UAAM,WAAW,MAAM,cAAM,IAAI,uBAAuB;AACxD,WAAO,QAAQ,QAAQ;AAAA,EAC3B;AAAA,EAEA,MAAM,wBAAwB,IAAI,QAAQ;AACtC,UAAM,WAAW,MAAM,cAAM,MAAM,yBAAyB,EAAE,WAAW,EAAE,OAAO,CAAC;AACnF,WAAO,QAAQ,QAAQ;AAAA,EAC3B;AAAA,EAEA,MAAM,kBAAkB,IAAI;AACxB,UAAM,WAAW,MAAM,cAAM,OAAO,yBAAyB,EAAE,EAAE;AAEjE,WAAO,QAAQ,QAAQ;AAAA,EAC3B;AACJ;AAEA,IAAO,cAAQ;",
  "names": []
}
