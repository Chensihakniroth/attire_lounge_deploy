{
  "version": 3,
  "sources": ["../../resources/js/components/pages/admin/CustomizeGiftManager.jsx"],
  "sourcesContent": ["import React, { useState, useEffect, useCallback } from 'react';\nimport { User, Mail, Phone, Gift, AlertTriangle, Loader, CheckCircle, XCircle, Trash2 } from 'lucide-react';\nimport { useAdmin } from './AdminContext';\n\nconst GiftRequestCard = ({ request, onUpdate, onDelete }) => {\n    const [isUpdating, setIsUpdating] = useState(false);\n\n    const handleUpdate = async (status) => {\n        setIsUpdating(true);\n        await onUpdate(request.id, status);\n        setIsUpdating(false);\n    };\n\n    const handleDelete = async () => {\n        if (window.confirm('Are you sure you want to permanently delete this request?')) {\n            setIsUpdating(true);\n            await onDelete(request.id);\n        }\n    };\n    \n    const statusStyles = {\n        Pending: 'border-yellow-500',\n        Reviewed: 'border-blue-500',\n        Completed: 'border-green-500',\n        Cancelled: 'border-red-500',\n    };\n    \n    const statusBadgeStyles = {\n        Pending: 'bg-yellow-100 text-yellow-800',\n        Reviewed: 'bg-blue-100 text-blue-800',\n        Completed: 'bg-green-100 text-green-800',\n        Cancelled: 'bg-red-100 text-red-800',\n    }\n\n    return (\n        <div \n            className={`bg-gray-800 p-5 rounded-xl shadow-md border-l-4 ${statusStyles[request.status]} transition duration-200 ease-out hover:-translate-y-1 hover:shadow-xl border-t border-r border-b border-gray-700/50 hover:border-gray-600`}\n        >\n            <div className=\"flex justify-between items-start pb-3 mb-3 border-b border-gray-700\">\n                <div className=\"flex items-center\">\n                    <User className=\"w-5 h-5 text-gray-400 mr-3\" />\n                    <h3 className=\"text-lg font-semibold text-white\">{request.name}</h3>\n                </div>\n                <span className={`px-3 py-1 text-xs font-bold uppercase rounded-full ${statusBadgeStyles[request.status]}`}>\n                    {request.status}\n                </span>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3 text-sm\">\n                <div className=\"flex items-center text-gray-400\">\n                    <Mail className=\"w-4 h-4 mr-3 flex-shrink-0\" />\n                    <a href={`mailto:${request.email}`} className=\"hover:text-blue-500 truncate text-sm\">{request.email}</a>\n                </div>\n                <div className=\"flex items-center text-gray-400\">\n                    <Phone className=\"w-4 h-4 mr-3 flex-shrink-0\" />\n                    <span className=\"text-sm\">{request.phone}</span>\n                </div>\n            </div>\n            <div className=\"mt-4 pt-4 border-t border-gray-700\">\n                <p className=\"font-semibold text-white text-sm mb-1\">Preferences</p>\n                <div className=\"flex items-start text-gray-400 text-sm\">\n                    <Gift className=\"w-4 h-4 mr-3 mt-0.5 flex-shrink-0\" />\n                    <pre className=\"whitespace-pre-wrap font-sans italic\">{request.preferences}</pre>\n                </div>\n            </div>\n            {request.status === 'Pending' && (\n                <div className=\"mt-4 pt-4 border-t border-gray-700 flex items-center justify-end gap-2\">\n                    <button onClick={() => handleUpdate('Completed')} disabled={isUpdating} className=\"px-3 py-1 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-md flex items-center gap-1 disabled:bg-gray-400\">\n                        <CheckCircle size={14} /> Mark Done\n                    </button>\n                    <button onClick={() => handleUpdate('Cancelled')} disabled={isUpdating} className=\"px-3 py-1 text-sm font-semibold text-white bg-red-500 hover:bg-red-600 rounded-md flex items-center gap-1 disabled:bg-gray-400\">\n                        <XCircle size={14} /> Cancel\n                    </button>\n                </div>\n            )}\n            {(request.status === 'Completed' || request.status === 'Cancelled') && (\n                 <div className=\"mt-4 pt-4 border-t border-gray-700 flex items-center justify-end\">\n                    <button onClick={handleDelete} disabled={isUpdating} className=\"px-3 py-1 text-sm font-semibold text-gray-400 hover:bg-gray-600 rounded-md flex items-center gap-1 disabled:opacity-50\">\n                        <Trash2 size={14} /> Delete\n                    </button>\n                 </div>\n            )}\n        </div>\n    );\n};\n\nconst CustomizeGiftManager = () => {\n    const { \n        giftRequests, \n        giftRequestsLoading, \n        fetchGiftRequests, \n        updateGiftRequestStatus, \n        deleteGiftRequest \n    } = useAdmin();\n\n    useEffect(() => {\n        fetchGiftRequests(); // Use context fetcher\n        const intervalId = setInterval(() => fetchGiftRequests(false), 60000); \n        return () => clearInterval(intervalId);\n    }, [fetchGiftRequests]);\n\n    const handleUpdate = useCallback(async (id, status) => {\n        try {\n            await updateGiftRequestStatus(id, status);\n        } catch (err) {\n            console.error('Failed to update status:', err);\n        }\n    }, [updateGiftRequestStatus]);\n\n    const handleDelete = useCallback(async (id) => {\n        try {\n            await deleteGiftRequest(id);\n        } catch (err) {\n            console.error('Failed to delete request:', err);\n        }\n    }, [deleteGiftRequest]);\n\n    const renderContent = () => {\n        if (giftRequestsLoading && giftRequests.length === 0) {\n            return (\n                <div className=\"flex justify-center items-center h-64\">\n                    <Loader className=\"animate-spin text-purple-500\" size={48} />\n                </div>\n            );\n        }\n\n        if (giftRequests.length === 0 && !giftRequestsLoading) {\n            return <p className=\"text-center text-gray-400\">No gift requests found.</p>;\n        }\n\n        return (\n            <div \n                className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\"\n            >\n                {giftRequests.map(request => (\n                    <GiftRequestCard \n                        key={request.id} \n                        request={request} \n                        onUpdate={handleUpdate}\n                        onDelete={handleDelete}\n                    />\n                ))}\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div>\n                <h1 className=\"text-3xl font-bold text-white\">Customize Gift Requests</h1>\n                <p className=\"mt-1 text-gray-400\">Review and manage customized gift inquiries from customers.</p>\n            </div>\n            {renderContent()}\n        </div>\n    );\n};\n\nexport default CustomizeGiftManager;\n"],
  "mappings": "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",
  "names": ["import_react", "GiftRequestCard", "request", "onUpdate", "onDelete", "isUpdating", "setIsUpdating", "handleUpdate", "status", "handleDelete", "statusStyles", "statusBadgeStyles", "React", "User", "Mail", "Phone", "Gift", "CheckCircle", "XCircle", "Trash2", "CustomizeGiftManager", "giftRequests", "giftRequestsLoading", "fetchGiftRequests", "updateGiftRequestStatus", "deleteGiftRequest", "useAdmin", "intervalId", "id", "err", "Loader", "CustomizeGiftManager_default"]
}
