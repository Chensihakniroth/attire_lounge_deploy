import{a as G}from"./chunk-YFDHNXDR.js";import{a as h}from"./chunk-TYLMS5I4.js";import{a as f}from"./chunk-55LTIFT5.js";import"./chunk-B37FXFXI.js";import"./chunk-DPUTWIAT.js";import{B as k,H as C,I as z,Q as I,S as j,V as $,f as w,p as y,q as N,s as x,y as u}from"./chunk-OSE6HXQI.js";import{c as S,d as A}from"./chunk-DIIP6FVD.js";var e=S(A());var q=({request:t,onUpdate:s,onDelete:b})=>{let[o,a]=(0,e.useState)(!1),d=async i=>{a(!0),await s(t.id,i),a(!1)},m=async()=>{window.confirm("Are you sure you want to permanently delete this request?")&&(a(!0),await b(t.id))},p={Pending:{label:"Pending",color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/20"},Reviewed:{label:"Reviewed",color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-400/20"},Completed:{label:"Completed",color:"text-green-400",bg:"bg-green-400/10",border:"border-green-400/20"},Cancelled:{label:"Cancelled",color:"text-red-400",bg:"bg-red-400/10",border:"border-red-400/20"}},c=p[t.status]||p.Pending;return e.default.createElement("div",{className:"group p-6 rounded-3xl backdrop-blur-xl bg-black/20 border border-white/10 shadow-lg transition-all duration-300 hover:bg-black/30 hover:border-attire-accent/30"},e.default.createElement("div",{className:"flex justify-between items-start pb-4 mb-4 border-b border-white/5"},e.default.createElement("div",{className:"flex items-center gap-4"},e.default.createElement("div",{className:"h-12 w-12 rounded-full bg-white/5 flex items-center justify-center border border-white/5 group-hover:border-attire-accent/30 transition-colors"},e.default.createElement(j,{className:"w-5 h-5 text-attire-silver group-hover:text-attire-accent transition-colors"})),e.default.createElement("div",null,e.default.createElement("h3",{className:"text-lg font-serif text-white"},t.name),e.default.createElement("div",{className:"flex items-center gap-3 text-xs text-attire-silver/60 mt-1"},e.default.createElement("span",{className:"flex items-center gap-1 hover:text-white transition-colors"},e.default.createElement(k,{size:12})," ",t.email),e.default.createElement("span",null,"\u2022"),e.default.createElement("span",{className:"flex items-center gap-1 hover:text-white transition-colors"},e.default.createElement(z,{size:12})," ",t.phone)))),e.default.createElement("span",{className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-full border ${c.color} ${c.bg} ${c.border}`},t.status)),e.default.createElement("div",{className:"mt-4 p-4 bg-white/5 rounded-2xl border border-white/5"},e.default.createElement("div",{className:"flex items-center gap-2 mb-3"},e.default.createElement(x,{className:"w-4 h-4 text-attire-accent"}),e.default.createElement("p",{className:"text-xs font-bold text-attire-silver/50 uppercase tracking-widest"},"Customization Details")),e.default.createElement("pre",{className:"whitespace-pre-wrap font-sans text-sm text-attire-cream/90 leading-relaxed pl-6 border-l-2 border-white/10 ml-2"},t.preferences)),t.selected_items&&t.selected_items.length>0&&e.default.createElement("div",{className:"mt-4 p-4 bg-white/5 rounded-2xl border border-white/5"},e.default.createElement("p",{className:"text-xs font-bold text-attire-silver/50 uppercase tracking-widest mb-3"},"Selected Visuals"),e.default.createElement("div",{className:"flex gap-4 overflow-x-auto pb-2 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},t.selected_items.map((i,g)=>e.default.createElement("div",{key:g,className:"flex flex-col items-center min-w-[80px]"},e.default.createElement("div",{className:"h-20 w-20 rounded-xl overflow-hidden border border-white/10 mb-2 relative group/img"},e.default.createElement("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover/img:scale-110"})),e.default.createElement("p",{className:"text-[10px] text-attire-silver text-center uppercase tracking-wide"},i.type),e.default.createElement("p",{className:"text-[10px] text-white text-center font-medium truncate w-full"},i.color||i.name))))),e.default.createElement("div",{className:"mt-6 flex items-center justify-end gap-3 opacity-80 group-hover:opacity-100 transition-opacity"},t.status==="Pending"&&e.default.createElement(e.default.Fragment,null,e.default.createElement("button",{onClick:()=>d("Completed"),disabled:o,className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-green-400 bg-green-400/10 border border-green-400/20 rounded-xl hover:bg-green-400/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2"},e.default.createElement(w,{size:14})," Complete"),e.default.createElement("button",{onClick:()=>d("Cancelled"),disabled:o,className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-red-400 bg-red-400/10 border border-red-400/20 rounded-xl hover:bg-red-400/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2"},e.default.createElement($,{size:14})," Cancel")),(t.status==="Completed"||t.status==="Cancelled")&&e.default.createElement("button",{onClick:m,disabled:o,className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-attire-silver hover:text-red-400 bg-white/5 hover:bg-red-500/10 border border-white/10 hover:border-red-500/30 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2"},e.default.createElement(I,{size:14})," Delete")))},F=({item:t,isOutOfStock:s,onToggle:b})=>{let[o,a]=(0,e.useState)(!1),d=async()=>{a(!0);try{await b(t.id,!s)}finally{a(!1)}};return e.default.createElement("div",{className:`p-4 rounded-2xl border transition-all duration-300 ${s?"bg-red-500/5 border-red-500/20":"bg-green-500/5 border-green-500/20"}`},e.default.createElement("div",{className:"flex items-center gap-4"},e.default.createElement("div",{className:"h-16 w-16 rounded-xl overflow-hidden border border-white/10"},e.default.createElement("img",{src:t.image,alt:t.name,className:`w-full h-full object-cover ${s?"grayscale opacity-50":""}`})),e.default.createElement("div",{className:"flex-grow"},e.default.createElement("h4",{className:"text-sm font-medium text-white"},t.name),e.default.createElement("p",{className:"text-xs text-attire-silver"},t.color||"Default")),e.default.createElement("button",{onClick:d,disabled:o,className:`flex items-center gap-2 px-3 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all ${s?"bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500/20":"bg-green-500/10 text-green-400 border border-green-500/20 hover:bg-green-500/20"}`},o?e.default.createElement(u,{className:"animate-spin",size:14}):s?e.default.createElement(e.default.Fragment,null,e.default.createElement(y,{size:14})," Out of Stock"):e.default.createElement(e.default.Fragment,null,e.default.createElement(N,{size:14})," In Stock"))))},L=()=>{let[t,s]=(0,e.useState)("requests"),[b,o]=(0,e.useState)([]),[a,d]=(0,e.useState)(!1),{giftRequests:m,giftRequestsLoading:p,fetchGiftRequests:c,updateGiftRequestStatus:i,deleteGiftRequest:g}=G(),v=(0,e.useCallback)(async()=>{d(!0);try{let r=await f.getOutOfStockItems();o(r)}catch(r){console.error("Failed to fetch inventory:",r)}finally{d(!1)}},[]);(0,e.useEffect)(()=>{c(),v();let r=setInterval(()=>{c(!1),v()},6e4);return()=>clearInterval(r)},[c,v]);let U=(0,e.useCallback)(async(r,n)=>{try{await i(r,n)}catch(l){console.error("Failed to update status:",l)}},[i]),T=(0,e.useCallback)(async r=>{try{await g(r)}catch(n){console.error("Failed to delete request:",n)}},[g]),D=async(r,n)=>{try{await f.toggleGiftItemStock(r,n),o(l=>n?[...l,r]:l.filter(P=>P!==r))}catch(l){console.error("Failed to toggle stock:",l)}};return e.default.createElement("div",{className:"space-y-8"},e.default.createElement("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-4 border-b border-white/10"},e.default.createElement("div",null,e.default.createElement("h1",{className:"text-4xl font-serif text-white mb-2"},"Gift Management"),e.default.createElement("p",{className:"text-attire-silver text-sm"},"Manage customized gift box inquiries and item availability.")),e.default.createElement("div",{className:"flex bg-black/40 p-1 rounded-2xl border border-white/5"},e.default.createElement("button",{onClick:()=>s("requests"),className:`px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 flex items-center gap-2 ${t==="requests"?"bg-attire-accent text-black":"text-attire-silver hover:text-white"}`},e.default.createElement(x,{size:18})," Requests"),e.default.createElement("button",{onClick:()=>s("inventory"),className:`px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 flex items-center gap-2 ${t==="inventory"?"bg-attire-accent text-black":"text-attire-silver hover:text-white"}`},e.default.createElement(C,{size:18})," Inventory"))),t==="requests"?p&&m.length===0?e.default.createElement("div",{className:"flex justify-center items-center h-64"},e.default.createElement(u,{className:"animate-spin text-attire-accent",size:48})):m.length===0&&!p?e.default.createElement("div",{className:"text-center py-20 bg-black/20 rounded-3xl border border-white/5"},e.default.createElement("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4"},e.default.createElement(x,{className:"text-attire-silver/30"})),e.default.createElement("p",{className:"text-attire-silver/60"},"No gift requests found.")):e.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},m.map(r=>e.default.createElement(q,{key:r.id,request:r,onUpdate:U,onDelete:T}))):a&&b.length===0&&Object.keys(h).length===0?e.default.createElement("div",{className:"flex justify-center items-center h-64"},e.default.createElement(u,{className:"animate-spin text-attire-accent",size:48})):e.default.createElement("div",{className:"space-y-12"},Object.entries(h).map(([r,n])=>e.default.createElement("div",{key:r,className:"space-y-6"},e.default.createElement("div",{className:"flex items-center gap-4"},e.default.createElement("h3",{className:"text-xl font-serif text-white uppercase tracking-widest"},r.replace(/([A-Z])/g," $1")),e.default.createElement("div",{className:"h-px flex-grow bg-white/10"})),e.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},n.map(l=>e.default.createElement(F,{key:l.id,item:l,isOutOfStock:b.includes(l.id),onToggle:D})))))))},B=L;export{B as default};
//# sourceMappingURL=CustomizeGiftManager-TKEW4UQK.js.map
