{
  "version": 3,
  "sources": ["../../resources/js/context/FavoritesContext.jsx"],
  "sourcesContent": ["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { products } from '../data/products.js';\n\nconst FavoritesContext = createContext();\n\nexport const useFavorites = () => useContext(FavoritesContext);\n\nexport const FavoritesProvider = ({ children }) => {\n    const [favorites, setFavorites] = useState(() => {\n        try {\n            const localData = localStorage.getItem('attire-lounge-favorites');\n            if (localData) {\n                const parsedData = JSON.parse(localData);\n                // Filter out any IDs that don't exist in the current product list\n                const validIds = parsedData.filter(id => products.some(p => p.id === id));\n                return validIds;\n            }\n            return [];\n        } catch (error) {\n            console.error(\"Could not parse favorites from localStorage\", error);\n            return [];\n        }\n    });\n\n    useEffect(() => {\n        try {\n            localStorage.setItem('attire-lounge-favorites', JSON.stringify(favorites));\n        } catch (error) {\n            console.error(\"Could not save favorites to localStorage\", error);\n        }\n    }, [favorites]);\n\n    const addFavorite = (productId) => {\n        setFavorites(prev => {\n            if (prev.includes(productId)) return prev;\n            return [...prev, productId];\n        });\n    };\n\n    const removeFavorite = (productId) => {\n        setFavorites(prev => prev.filter(id => id !== productId));\n    };\n\n    const isFavorited = (productId) => {\n        return favorites.includes(productId);\n    };\n\n    const value = {\n        favorites,\n        addFavorite,\n        removeFavorite,\n        isFavorited,\n    };\n\n    return (\n        <FavoritesContext.Provider value={value}>\n            {children}\n        </FavoritesContext.Provider>\n    );\n};"],
  "mappings": "uFAAA,IAAAA,EAAsE,OAGtE,IAAMC,KAAmB,iBAAc,EAE1BC,EAAe,OAAM,cAAWD,CAAgB,EAEhDE,EAAoB,CAAC,CAAE,SAAAC,CAAS,IAAM,CAC/C,GAAM,CAACC,EAAWC,CAAY,KAAI,YAAS,IAAM,CAC7C,GAAI,CACA,IAAMC,EAAY,aAAa,QAAQ,yBAAyB,EAChE,OAAIA,EACmB,KAAK,MAAMA,CAAS,EAEX,OAAOC,GAAMC,EAAS,KAAKC,GAAKA,EAAE,KAAOF,CAAE,CAAC,EAGrE,CAAC,CACZ,OAASG,EAAO,CACZ,eAAQ,MAAM,8CAA+CA,CAAK,EAC3D,CAAC,CACZ,CACJ,CAAC,KAED,aAAU,IAAM,CACZ,GAAI,CACA,aAAa,QAAQ,0BAA2B,KAAK,UAAUN,CAAS,CAAC,CAC7E,OAASM,EAAO,CACZ,QAAQ,MAAM,2CAA4CA,CAAK,CACnE,CACJ,EAAG,CAACN,CAAS,CAAC,EAiBd,IAAMO,EAAQ,CACV,UAAAP,EACA,YAjBiBQ,GAAc,CAC/BP,EAAaQ,GACLA,EAAK,SAASD,CAAS,EAAUC,EAC9B,CAAC,GAAGA,EAAMD,CAAS,CAC7B,CACL,EAaI,eAXoBA,GAAc,CAClCP,EAAaQ,GAAQA,EAAK,OAAON,GAAMA,IAAOK,CAAS,CAAC,CAC5D,EAUI,YARiBA,GACVR,EAAU,SAASQ,CAAS,CAQvC,EAEA,OACI,EAAAE,QAAA,cAACd,EAAiB,SAAjB,CAA0B,MAAOW,GAC7BR,CACL,CAER",
  "names": ["import_react", "FavoritesContext", "useFavorites", "FavoritesProvider", "children", "favorites", "setFavorites", "localData", "id", "products", "p", "error", "value", "productId", "prev", "React"]
}
