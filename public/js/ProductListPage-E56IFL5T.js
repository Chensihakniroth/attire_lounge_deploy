import{a as U,b as V}from"./chunk-PIGHG5RE.js";import{a as B}from"./chunk-APBXFO4C.js";import{b as F,i as T}from"./chunk-JILGO3YU.js";import{a as I}from"./chunk-EVNYNTWZ.js";import{a as Q,b as C}from"./chunk-TOHQJTJM.js";import{a as f,b as N}from"./chunk-BL2AQP34.js";import{K as j,h as E,i as P,j as z}from"./chunk-I7GFLGYY.js";import"./chunk-Y6MHP37V.js";import{c as D,d as O}from"./chunk-IEBXI5DP.js";var e=D(O());var K=D(O());var M=[{value:"popularity-desc",label:"Most Popular"},{value:"createdAt-desc",label:"Newest"},{value:"createdAt-asc",label:"Oldest"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}],ee=()=>new URLSearchParams(F().search),te=()=>{let c=ee(),d=F(),s=c.get("collection"),[l,a]=(0,e.useState)("popularity-desc"),[v,g]=(0,e.useState)([0,1e3]),[[i,r],p]=(0,e.useState)([null,0]),{favorites:A,addFavorite:Z,removeFavorite:$,isFavorited:q}=I(),[m,w]=(0,e.useState)(()=>s?[s]:[]),{pageTitle:X,filteredProducts:x}=(0,e.useMemo)(()=>{let t=[...Q];m.length>0&&(t=t.filter(n=>m.includes(n.collectionSlug)));let o=C.find(n=>n.slug===m[0]),b=m.length===1&&o?o.title:"All Products",[k,y]=l.split("-");return t.sort((n,u)=>{if(k==="price")return y==="asc"?n.price-u.price:u.price-n.price;if(k==="createdAt")return y==="asc"?new Date(n.createdAt)-new Date(u.createdAt):new Date(u.createdAt)-new Date(n.createdAt);if(k==="popularity")return y==="asc"?n.popularity-u.popularity:u.popularity-n.popularity;if(k==="name"){if(n.name<u.name)return y==="asc"?-1:1;if(n.name>u.name)return y==="asc"?1:-1}return 0}),{pageTitle:b,filteredProducts:t}},[l,m]),G=i!==null?U(0,x.length,i):null,h=i!==null?x[G]:null,H=t=>p([t,0]),S=()=>p([null,0]),L=t=>{i===null||!x.length||p([i+t,t])},J=t=>{q(t)?$(t):Z(t)};(0,e.useEffect)(()=>{let t=o=>{i!==null&&(o.key==="ArrowRight"&&L(1),o.key==="ArrowLeft"&&L(-1),o.key==="Escape"&&S())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[i]),(0,e.useEffect)(()=>{let t=new URLSearchParams(d.search).get("collection");t&&!m.includes(t)?w([t]):!t&&m.length>0},[d.search]);let W={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},Y=t=>{w(o=>o.includes(t)?o.filter(b=>b!==t):[...o,t])},_=()=>{w([])},R=t=>{w(o=>o.filter(b=>b!==t))},ne=!0;return e.default.createElement("div",{className:"min-h-screen bg-attire-navy"},e.default.createElement("header",{className:"text-center py-16 sm:py-24"},e.default.createElement(f.h1,{className:"text-4xl sm:text-5xl md:text-6xl font-serif font-light text-white mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"}},X),e.default.createElement(T,{to:"/collections",className:"flex items-center justify-center gap-2 text-sm text-white hover:text-black transition-colors"},e.default.createElement(P,{size:16}),"Back to Collections")),e.default.createElement("main",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},e.default.createElement(re,{sortOrder:l,setSortOrder:a,selectedCollections:m,handleCollectionToggle:Y,clearFilters:_,removeCollectionFilter:R}),e.default.createElement(N,{mode:"wait"},e.default.createElement(f.div,{key:x.map(t=>t.id).join("-"),className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-12 mt-8",variants:W,initial:"hidden",animate:"visible"},x.map((t,o)=>e.default.createElement(B,{key:t.id,product:t,openLightbox:()=>H(o)})))),x.length===0&&e.default.createElement(f.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 w-full"},e.default.createElement("p",{className:"text-2xl font-serif text-attire-cream"},"No products found."),e.default.createElement("p",{className:"text-attire-cream mt-2"},"Try adjusting your filters or search term."))),e.default.createElement(N,null,h&&e.default.createElement(V,{key:"lightbox",selectedImage:{...h,src:h.images[0],title:h.name,collection:h.collection},closeLightbox:S,direction:r,paginate:L,toggleFavorite:J,favorites:A})))},re=({sortOrder:c,setSortOrder:d,selectedCollections:s,handleCollectionToggle:l,clearFilters:a,removeCollectionFilter:v})=>{let g=(0,e.useRef)(null),i=r=>{g.current&&g.current.scrollBy({left:r*150,behavior:"smooth"})};return e.default.createElement("div",{className:"flex flex-col gap-4 mb-6 p-4 bg-black/10 rounded-lg shadow-sm border border-attire-silver/10"},e.default.createElement("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 w-full"},e.default.createElement("div",{className:"flex items-center w-full"},e.default.createElement("button",{onClick:()=>i(-1),className:"p-1 text-attire-silver/70 hover:text-white md:hidden"},e.default.createElement(P,{size:20})),e.default.createElement("div",{ref:g,className:"flex items-center gap-2 overflow-x-auto flex-nowrap [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]"},e.default.createElement("span",{className:"text-sm font-medium text-attire-silver flex-shrink-0"},"Collections:"),C.map(r=>e.default.createElement("button",{key:r.id,onClick:()=>l(r.slug),className:`px-3 py-1 text-sm rounded-full transition-colors flex-shrink-0 ${s.includes(r.slug)?"bg-attire-accent text-attire-dark font-semibold":"bg-attire-charcoal text-attire-silver hover:bg-attire-navy"}`},r.title))),e.default.createElement("button",{onClick:()=>i(1),className:"p-1 text-attire-silver/70 hover:text-white md:hidden"},e.default.createElement(z,{size:20}))),e.default.createElement("div",{className:"flex items-center gap-4 flex-shrink-0"},e.default.createElement("span",{className:"text-sm font-medium text-attire-silver hidden lg:block"},"Sort by:"),e.default.createElement(ie,{sortOrder:c,setSortOrder:d,clearFilters:a}))),s.length>0&&e.default.createElement("div",{className:"flex items-center flex-wrap gap-2 pt-4 border-t border-attire-silver/10"},e.default.createElement("span",{className:"text-sm font-medium text-attire-silver"},"Active Filters:"),s.map(r=>{let p=C.find(A=>A.slug===r);return e.default.createElement(oe,{key:r,onRemove:()=>v(r)},p?.title||r)}),e.default.createElement("button",{onClick:a,className:"text-sm font-semibold text-attire-accent hover:underline ml-auto"},"Clear All")))},oe=({children:c,onRemove:d})=>e.default.createElement(f.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 bg-attire-accent text-attire-dark rounded-full pl-3 pr-2 py-1 text-sm font-medium"},e.default.createElement("span",null,c),e.default.createElement("button",{onClick:d,className:"text-attire-dark/80 hover:text-attire-dark"},e.default.createElement(j,{size:16}))),ie=({sortOrder:c,setSortOrder:d,clearFilters:s})=>{let[l,a]=(0,e.useState)(!1),v=(0,e.useRef)(null);(0,e.useEffect)(()=>{let r=p=>{v.current&&!v.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);let i=[...M].find(r=>r.value===c)?.label||"Sort & Filter";return e.default.createElement("div",{ref:v,className:"relative w-64 z-20"},e.default.createElement("button",{onClick:()=>a(!l),className:"flex items-center justify-between w-full px-4 py-2 bg-attire-charcoal border border-attire-silver/20 rounded-full text-sm font-medium text-white hover:bg-attire-navy focus:outline-none focus:ring-2 focus:ring-attire-accent"},e.default.createElement("span",null,i),e.default.createElement(f.div,{animate:{rotate:l?180:0}},e.default.createElement(E,{size:16}))),e.default.createElement(N,null,l&&e.default.createElement(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-full bg-attire-charcoal border border-attire-silver/10 rounded-md shadow-lg overflow-hidden p-4"},e.default.createElement("div",{className:"mb-4"},e.default.createElement("h4",{className:"font-semibold text-lg mb-2 text-white"},"Sort by"),M.map(r=>e.default.createElement("div",{key:r.value,onClick:()=>{d(r.value),a(!1)},className:`px-2 py-1 text-sm cursor-pointer rounded-md hover:bg-attire-navy ${c===r.value?"font-bold bg-attire-navy text-white":"font-medium text-attire-silver"}`},e.default.createElement("span",null,r.label)))),e.default.createElement("button",{onClick:()=>{s(),a(!1)},className:"w-full mt-4 py-2 px-4 border border-transparent rounded-md shadow-sm text-md font-medium text-attire-dark bg-attire-accent hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-attire-accent"},"Clear All Filters"))))},ye=te;export{ye as default};
//# sourceMappingURL=ProductListPage-E56IFL5T.js.map
