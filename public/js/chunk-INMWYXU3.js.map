{
  "version": 3,
  "sources": ["../../resources/js/api.js"],
  "sourcesContent": ["import axios from 'axios';\n\n// Cache configuration\nconst CACHE_PREFIX = 'attire_cache_';\nconst CACHE_TTL = 15 * 60 * 1000; // 15 minutes\n\n// Helper to get data from cache\nconst getCached = (key) => {\n    try {\n        const item = localStorage.getItem(CACHE_PREFIX + key);\n        if (!item) return null;\n        \n        const { value, timestamp } = JSON.parse(item);\n        if (Date.now() - timestamp > CACHE_TTL) {\n            localStorage.removeItem(CACHE_PREFIX + key);\n            return null;\n        }\n        return value;\n    } catch (e) {\n        return null;\n    }\n};\n\n// Helper to set data to cache\nconst setCached = (key, value) => {\n    try {\n        const item = { value, timestamp: Date.now() };\n        localStorage.setItem(CACHE_PREFIX + key, JSON.stringify(item));\n    } catch (e) {\n        console.warn('Failed to cache data', e);\n    }\n};\n\n// Helper to extract data from axios response\nconst getData = (response) => response.data;\n\n// Fetch with caching strategy for GET requests\nconst fetchWithCache = async (url, params = {}) => {\n    const queryString = new URLSearchParams(params).toString();\n    const cacheKey = `${url}?${queryString}`;\n    \n    // Try cache first\n    const cachedData = getCached(cacheKey);\n    if (cachedData) {\n        return cachedData;\n    }\n\n    // Fallback to network\n    const response = await axios.get(url, { params });\n    const data = getData(response);\n    \n    // Save to cache\n    setCached(cacheKey, data);\n    return data;\n};\n\nconst API = {\n    // Fetch products with optional filters (Cached)\n    async getProducts(filters = {}) {\n        return await fetchWithCache('/api/v1/products', filters);\n    },\n\n    // Fetch featured products (Cached)\n    async getFeaturedProducts() {\n        return await fetchWithCache('/api/v1/products/featured');\n    },\n\n    // Fetch categories (Cached)\n    async getCategories() {\n        return await fetchWithCache('/api/v1/products/categories');\n    },\n\n    // Fetch collections (Cached)\n    async getCollections() {\n        return await fetchWithCache('/api/v1/products/collections');\n    },\n\n    // Fetch single product by slug (Cached)\n    async getProduct(slug) {\n        return await fetchWithCache(`/api/v1/products/${slug}`);\n    },\n\n    // Search products (Network only - usually too dynamic to cache effectively without short TTL)\n    async searchProducts(query) {\n        const response = await axios.get(`/api/v1/search?search=${encodeURIComponent(query)}`);\n        return getData(response);\n    },\n\n    // Submit a custom gift request\n    async submitGiftRequest(giftData) {\n        const response = await axios.post('/api/v1/gift-requests', giftData);\n        return getData(response);\n    },\n\n    async getGiftRequests() {\n        const response = await axios.get('/api/v1/gift-requests');\n        return getData(response);\n    },\n\n    async updateGiftRequestStatus(id, status) {\n        const response = await axios.patch(`/api/v1/gift-requests/${id}/status`, { status });\n        return getData(response);\n    },\n\n    async deleteGiftRequest(id) {\n        const response = await axios.delete(`/api/v1/gift-requests/${id}`);\n        // Axios handles 204 automatically, returning undefined data usually, which is fine\n        return getData(response);\n    }\n};\n\nexport default API;\n"],
  "mappings": "wCAGA,IAAMA,EAAe,gBACfC,EAAY,IAAU,IAGtBC,EAAaC,GAAQ,CACvB,GAAI,CACA,IAAMC,EAAO,aAAa,QAAQJ,EAAeG,CAAG,EACpD,GAAI,CAACC,EAAM,OAAO,KAElB,GAAM,CAAE,MAAAC,EAAO,UAAAC,CAAU,EAAI,KAAK,MAAMF,CAAI,EAC5C,OAAI,KAAK,IAAI,EAAIE,EAAYL,GACzB,aAAa,WAAWD,EAAeG,CAAG,EACnC,MAEJE,CACX,MAAY,CACR,OAAO,IACX,CACJ,EAGME,EAAY,CAACJ,EAAKE,IAAU,CAC9B,GAAI,CACA,IAAMD,EAAO,CAAE,MAAAC,EAAO,UAAW,KAAK,IAAI,CAAE,EAC5C,aAAa,QAAQL,EAAeG,EAAK,KAAK,UAAUC,CAAI,CAAC,CACjE,OAASI,EAAG,CACR,QAAQ,KAAK,uBAAwBA,CAAC,CAC1C,CACJ,EAGMC,EAAWC,GAAaA,EAAS,KAGjCC,EAAiB,MAAOC,EAAKC,EAAS,CAAC,IAAM,CAC/C,IAAMC,EAAc,IAAI,gBAAgBD,CAAM,EAAE,SAAS,EACnDE,EAAW,GAAGH,CAAG,IAAIE,CAAW,GAGhCE,EAAad,EAAUa,CAAQ,EACrC,GAAIC,EACA,OAAOA,EAIX,IAAMN,EAAW,MAAMO,EAAM,IAAIL,EAAK,CAAE,OAAAC,CAAO,CAAC,EAC1CK,EAAOT,EAAQC,CAAQ,EAG7B,OAAAH,EAAUQ,EAAUG,CAAI,EACjBA,CACX,EAEMC,EAAM,CAER,MAAM,YAAYC,EAAU,CAAC,EAAG,CAC5B,OAAO,MAAMT,EAAe,mBAAoBS,CAAO,CAC3D,EAGA,MAAM,qBAAsB,CACxB,OAAO,MAAMT,EAAe,2BAA2B,CAC3D,EAGA,MAAM,eAAgB,CAClB,OAAO,MAAMA,EAAe,6BAA6B,CAC7D,EAGA,MAAM,gBAAiB,CACnB,OAAO,MAAMA,EAAe,8BAA8B,CAC9D,EAGA,MAAM,WAAWU,EAAM,CACnB,OAAO,MAAMV,EAAe,oBAAoBU,CAAI,EAAE,CAC1D,EAGA,MAAM,eAAeC,EAAO,CACxB,IAAMZ,EAAW,MAAMO,EAAM,IAAI,yBAAyB,mBAAmBK,CAAK,CAAC,EAAE,EACrF,OAAOb,EAAQC,CAAQ,CAC3B,EAGA,MAAM,kBAAkBa,EAAU,CAC9B,IAAMb,EAAW,MAAMO,EAAM,KAAK,wBAAyBM,CAAQ,EACnE,OAAOd,EAAQC,CAAQ,CAC3B,EAEA,MAAM,iBAAkB,CACpB,IAAMA,EAAW,MAAMO,EAAM,IAAI,uBAAuB,EACxD,OAAOR,EAAQC,CAAQ,CAC3B,EAEA,MAAM,wBAAwBc,EAAIC,EAAQ,CACtC,IAAMf,EAAW,MAAMO,EAAM,MAAM,yBAAyBO,CAAE,UAAW,CAAE,OAAAC,CAAO,CAAC,EACnF,OAAOhB,EAAQC,CAAQ,CAC3B,EAEA,MAAM,kBAAkBc,EAAI,CACxB,IAAMd,EAAW,MAAMO,EAAM,OAAO,yBAAyBO,CAAE,EAAE,EAEjE,OAAOf,EAAQC,CAAQ,CAC3B,CACJ,EAEOgB,EAAQP",
  "names": ["CACHE_PREFIX", "CACHE_TTL", "getCached", "key", "item", "value", "timestamp", "setCached", "e", "getData", "response", "fetchWithCache", "url", "params", "queryString", "cacheKey", "cachedData", "axios_default", "data", "API", "filters", "slug", "query", "giftData", "id", "status", "api_default"]
}
