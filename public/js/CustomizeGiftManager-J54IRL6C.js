import{a as h}from"./chunk-U3CPICMX.js";import"./chunk-F32VCB23.js";import{C as f,G as u,H as x,J as y,f as g,n as p,t as b,w as c}from"./chunk-I7GFLGYY.js";import{c as N,d as w}from"./chunk-IEBXI5DP.js";var e=N(w());var C=({request:t,onUpdate:l,onDelete:d})=>{let[r,a]=(0,e.useState)(!1),n=async i=>{a(!0),await l(t.id,i),a(!1)},o=async()=>{window.confirm("Are you sure you want to permanently delete this request?")&&(a(!0),await d(t.id))},m={Pending:"border-yellow-500",Reviewed:"border-blue-500",Completed:"border-green-500",Cancelled:"border-red-500"},s={Pending:"bg-yellow-100 text-yellow-800",Reviewed:"bg-blue-100 text-blue-800",Completed:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800"};return e.default.createElement("div",{className:`bg-gray-800 p-5 rounded-xl shadow-md border-l-4 ${m[t.status]} transition duration-200 ease-out hover:-translate-y-1 hover:shadow-xl border-t border-r border-b border-gray-700/50 hover:border-gray-600`},e.default.createElement("div",{className:"flex justify-between items-start pb-3 mb-3 border-b border-gray-700"},e.default.createElement("div",{className:"flex items-center"},e.default.createElement(x,{className:"w-5 h-5 text-gray-400 mr-3"}),e.default.createElement("h3",{className:"text-lg font-semibold text-white"},t.name)),e.default.createElement("span",{className:`px-3 py-1 text-xs font-bold uppercase rounded-full ${s[t.status]}`},t.status)),e.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3 text-sm"},e.default.createElement("div",{className:"flex items-center text-gray-400"},e.default.createElement(c,{className:"w-4 h-4 mr-3 flex-shrink-0"}),e.default.createElement("a",{href:`mailto:${t.email}`,className:"hover:text-blue-500 truncate text-sm"},t.email)),e.default.createElement("div",{className:"flex items-center text-gray-400"},e.default.createElement(f,{className:"w-4 h-4 mr-3 flex-shrink-0"}),e.default.createElement("span",{className:"text-sm"},t.phone))),e.default.createElement("div",{className:"mt-4 pt-4 border-t border-gray-700"},e.default.createElement("p",{className:"font-semibold text-white text-sm mb-1"},"Preferences"),e.default.createElement("div",{className:"flex items-start text-gray-400 text-sm"},e.default.createElement(p,{className:"w-4 h-4 mr-3 mt-0.5 flex-shrink-0"}),e.default.createElement("pre",{className:"whitespace-pre-wrap font-sans italic"},t.preferences))),t.status==="Pending"&&e.default.createElement("div",{className:"mt-4 pt-4 border-t border-gray-700 flex items-center justify-end gap-2"},e.default.createElement("button",{onClick:()=>n("Completed"),disabled:r,className:"px-3 py-1 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-md flex items-center gap-1 disabled:bg-gray-400"},e.default.createElement(g,{size:14})," Mark Done"),e.default.createElement("button",{onClick:()=>n("Cancelled"),disabled:r,className:"px-3 py-1 text-sm font-semibold text-white bg-red-500 hover:bg-red-600 rounded-md flex items-center gap-1 disabled:bg-gray-400"},e.default.createElement(y,{size:14})," Cancel")),(t.status==="Completed"||t.status==="Cancelled")&&e.default.createElement("div",{className:"mt-4 pt-4 border-t border-gray-700 flex items-center justify-end"},e.default.createElement("button",{onClick:o,disabled:r,className:"px-3 py-1 text-sm font-semibold text-gray-400 hover:bg-gray-600 rounded-md flex items-center gap-1 disabled:opacity-50"},e.default.createElement(u,{size:14})," Delete")))},k=()=>{let{giftRequests:t,giftRequestsLoading:l,fetchGiftRequests:d,updateGiftRequestStatus:r,deleteGiftRequest:a}=h();(0,e.useEffect)(()=>{d();let s=setInterval(()=>d(!1),6e4);return()=>clearInterval(s)},[d]);let n=(0,e.useCallback)(async(s,i)=>{try{await r(s,i)}catch(v){console.error("Failed to update status:",v)}},[r]),o=(0,e.useCallback)(async s=>{try{await a(s)}catch(i){console.error("Failed to delete request:",i)}},[a]);return e.default.createElement("div",{className:"space-y-6"},e.default.createElement("div",null,e.default.createElement("h1",{className:"text-3xl font-bold text-white"},"Customize Gift Requests"),e.default.createElement("p",{className:"mt-1 text-gray-400"},"Review and manage customized gift inquiries from customers.")),l&&t.length===0?e.default.createElement("div",{className:"flex justify-center items-center h-64"},e.default.createElement(b,{className:"animate-spin text-purple-500",size:48})):t.length===0&&!l?e.default.createElement("p",{className:"text-center text-gray-400"},"No gift requests found."):e.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},t.map(s=>e.default.createElement(C,{key:s.id,request:s,onUpdate:n,onDelete:o}))))},D=k;export{D as default};
//# sourceMappingURL=CustomizeGiftManager-J54IRL6C.js.map
