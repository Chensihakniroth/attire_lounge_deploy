{
  "version": 3,
  "sources": ["../../node_modules/popmotion/dist/es/utils/wrap.mjs", "../../resources/js/components/pages/lookbook/Lightbox.jsx"],
  "sourcesContent": ["const wrap = (min, max, v) => {\n    const rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n", "import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ChevronLeft, ChevronRight, X, Share2, Download, Heart, Maximize2, Minimize } from 'lucide-react';\n\nconst lightboxVariants = {\n    hidden: { opacity: 0, backdropFilter: 'blur(0px)' },\n    visible: { opacity: 1, backdropFilter: 'blur(24px)' },\n};\n\nconst imageSlideVariants = {\n    enter: (direction) => ({\n        x: direction > 0 ? 100 : -100,\n        opacity: 0,\n        scale: 0.95\n    }),\n    center: {\n        zIndex: 1,\n        x: 0,\n        opacity: 1,\n        scale: 1\n    },\n};\n\nconst Lightbox = ({\n    selectedImage,\n    closeLightbox,\n    direction,\n    paginate,\n    toggleFavorite,\n    favorites\n}) => {\n    const [isFullscreen, setIsFullscreen] = useState(false);\n\n    if (!selectedImage) return null;\n\n    const handleToggleFullscreen = (e) => {\n        e.stopPropagation();\n        setIsFullscreen(!isFullscreen);\n    };\n\n    const handleShare = (e) => {\n        e.stopPropagation();\n        alert('Sharing feature to be implemented');\n    };\n\n    return (\n        <motion.div\n            variants={lightboxVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit=\"hidden\"\n            transition={{ duration: 0.4, ease: [0.22, 1, 0.36, 1] }}\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70\"\n            onClick={closeLightbox} // Always close lightbox on backdrop click\n        >\n            {/* Main Content */}\n            <div className=\"relative w-full h-full flex items-center justify-center\">\n                \n                <motion.button\n                    initial={{ scale: 0, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    transition={{ delay: 0.3, type: 'spring' }}\n                    onClick={closeLightbox}\n                    className=\"absolute top-8 right-8 z-[60] p-3 bg-white/10 backdrop-blur-md rounded-full hover:bg-white/20 transition-colors\"\n                    aria-label=\"Close\"\n                >\n                    <X className=\"w-6 h-6 text-white\" />\n                </motion.button>\n                \n                <AnimatePresence initial={false} custom={direction}>\n                    <motion.div\n                        // This single motion component now handles EVERYTHING\n                        key={selectedImage.id}\n                        variants={imageSlideVariants}\n                        custom={direction}\n                        initial=\"enter\"\n                        animate=\"center\"\n                        transition={{\n                            x: { type: \"spring\", stiffness: 300, damping: 30 },\n                            opacity: { duration: 0.2 },\n                            layout: { duration: 0.4, ease: [0.22, 1, 0.36, 1] }\n                        }}\n                        className={`absolute rounded-xl overflow-hidden shadow-2xl bg-black ${isFullscreen ? 'w-full h-full rounded-none' : 'w-[30rem] max-w-[90vw] aspect-[3/4]'}`}\n                        drag=\"x\"\n                        dragConstraints={{ left: 0, right: 0 }}\n                        dragElastic={0.1}\n                        onDragEnd={(e, { offset, velocity }) => {\n                            if (isFullscreen) return; // Disable drag navigation in fullscreen\n                            const swipe = Math.abs(offset.x);\n                            if (swipe > 50) paginate(offset.x > 0 ? -1 : 1);\n                        }}\n                        onClick={(e) => e.stopPropagation()} // Prevent closing lightbox when clicking on the image itself\n                    >\n                        <img\n                            src={selectedImage.src}\n                            alt={selectedImage.title}\n                            className={`w-full h-full ${isFullscreen ? 'object-contain' : 'object-cover'}`}\n                        />\n                        <div className=\"absolute inset-0 p-6 flex flex-col justify-between bg-gradient-to-t from-black/70 to-transparent\">\n                            <div>\n                                <h2 className=\"text-xl md:text-2xl font-serif text-white\">{selectedImage.title}</h2>\n                                <p className=\"text-sm text-attire-gold\">{selectedImage.collection}</p>\n                            </div>\n                            <div className=\"flex items-center self-end gap-3\">\n                                <button onClick={(e) => { e.stopPropagation(); toggleFavorite(selectedImage.id); }} className=\"p-3 rounded-full transition-colors\">\n                                    <Heart className={`w-5 h-5 transition-all ${favorites.includes(selectedImage.id) ? 'fill-red-500 text-red-500' : 'text-white'}`} />\n                                </button>\n                                <button onClick={handleToggleFullscreen} className=\"p-3 rounded-full transition-colors\">\n                                    {isFullscreen ? <Minimize className=\"w-5 h-5 text-white\" /> : <Maximize2 className=\"w-5 h-5 text-white\" />}\n                                </button>\n                            </div>\n                        </div>\n                    </motion.div>\n                </AnimatePresence>\n\n                {!isFullscreen && ( // Navigation buttons hidden in fullscreen mode\n                    <div onClick={(e) => e.stopPropagation()}>\n                        <button onClick={() => paginate(-1)} className=\"absolute left-4 md:left-10 xl:left-24 p-3 bg-white/10 backdrop-blur-md rounded-full hover:bg-white/20 transition-colors\">\n                            <ChevronLeft className=\"w-7 h-7 text-white\" />\n                        </button>\n                        <button onClick={() => paginate(1)} className=\"absolute right-4 md:right-10 xl:right-24 p-3 bg-white/10 backdrop-blur-md rounded-full hover:bg-white/20 transition-colors\">\n                            <ChevronRight className=\"w-7 h-7 text-white\" />\n                        </button>\n                    </div>\n                )}\n            </div>\n        </motion.div>\n    );\n};\n\nexport default Lightbox;"],
  "mappings": "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",
  "names": ["wrap", "min", "max", "v", "rangeSize", "import_react", "lightboxVariants", "imageSlideVariants", "direction", "Lightbox", "selectedImage", "closeLightbox", "paginate", "toggleFavorite", "favorites", "isFullscreen", "setIsFullscreen", "handleToggleFullscreen", "e", "handleShare", "React", "motion", "X", "AnimatePresence", "offset", "velocity", "Heart", "Minimize", "Maximize2", "ChevronLeft", "ChevronRight", "Lightbox_default"]
}
