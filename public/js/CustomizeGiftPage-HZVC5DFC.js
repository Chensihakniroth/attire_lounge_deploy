import{a as D}from"./chunk-JXRM6M5N.js";import{a as x}from"./chunk-TYLMS5I4.js";import{a as k}from"./chunk-55LTIFT5.js";import"./chunk-B37FXFXI.js";import"./chunk-DPUTWIAT.js";import{a as m,b as v}from"./chunk-32LHDP2E.js";import{B as F,I as O,S as I,a as q,b as A,g as y,s as B,y as E}from"./chunk-OSE6HXQI.js";import{c as H,d as M}from"./chunk-DIIP6FVD.js";var e=H(M());var S=({item:o,isSelected:a,onSelect:s,isOutOfStock:n})=>{let[l,u]=e.default.useState(!1);return e.default.createElement(m.div,{onClick:n?null:s,className:`group relative rounded-2xl overflow-hidden border-2 transition-all duration-300 ${n?"opacity-60 cursor-not-allowed border-white/5 grayscale-[0.5]":"cursor-pointer"} ${a?"border-attire-accent shadow-[0_0_20px_rgba(212,168,76,0.25)]":n?"":"border-white/5 hover:border-white/20"}`,whileHover:n?{}:{y:-5},initial:{opacity:0,y:10},animate:{opacity:1,y:0}},e.default.createElement("div",{className:"aspect-[4/5] w-full relative"},!l&&e.default.createElement("div",{className:"absolute inset-0 z-10"},e.default.createElement(D,{className:"w-full h-full rounded-none"})),e.default.createElement(m.img,{src:o.image,alt:o.name,className:`w-full h-full object-cover transition-all duration-700 ${l?"opacity-100 scale-100":"opacity-0 scale-105"} ${a?"scale-105":n?"":"group-hover:scale-105"}`,onLoad:()=>u(!0)}),e.default.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80"}),n&&e.default.createElement("div",{className:"absolute inset-0 flex items-center justify-center z-30"},e.default.createElement("div",{className:"bg-black/60 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.default.createElement("span",{className:"text-[10px] font-bold text-white uppercase tracking-[0.2em]"},"Sold Out")))),e.default.createElement("div",{className:"absolute bottom-0 left-0 p-4 z-20 w-full flex justify-between items-end"},e.default.createElement("div",null,e.default.createElement("h4",{className:"font-serif text-white text-lg leading-tight mb-1"},o.name),o.color&&e.default.createElement("p",{className:"text-xs text-attire-silver uppercase tracking-wider"},o.color)),e.default.createElement("div",{className:"text-attire-accent font-mono text-sm bg-black/40 px-2 py-0.5 rounded-md backdrop-blur-sm border border-white/5"},"$",o.price)),e.default.createElement(v,null,a&&e.default.createElement(m.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute top-3 right-3 bg-attire-accent text-black rounded-full p-1.5 shadow-lg z-20"},e.default.createElement(y,{size:16,strokeWidth:3}))))},z=({icon:o,label:a,...s})=>e.default.createElement("div",null,a&&e.default.createElement("label",{className:"block text-xs font-semibold text-attire-silver uppercase tracking-widest mb-2 ml-1"},a),e.default.createElement("div",{className:"relative group"},e.default.createElement("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-attire-silver group-focus-within:text-attire-accent transition-colors"},o),e.default.createElement("input",{...s,className:"w-full pl-12 pr-4 py-3.5 rounded-2xl border bg-black/40 text-white placeholder-white/20 transition-all border-white/10 focus:border-attire-accent/50 focus:ring-1 focus:ring-attire-accent/30 focus:outline-none"}))),J=()=>{let[o,a]=(0,e.useState)(1),[s,n]=(0,e.useState)({name:"",email:"",phone:""}),[l,u]=(0,e.useState)(null),[r,j]=(0,e.useState)(null),[d,f]=(0,e.useState)(null),[h,C]=(0,e.useState)(""),[c,b]=(0,e.useState)({state:"idle"}),[p,g]=(0,e.useState)({}),[$,G]=(0,e.useState)([]),[w,L]=(0,e.useState)([]);(0,e.useEffect)(()=>{(async()=>{try{let i=await k.getOutOfStockItems();L(i)}catch(i){console.error("Failed to fetch out of stock items:",i)}})()},[]),(0,e.useEffect)(()=>{let t=[];l&&r?t=x.boxes:l&&!r?t=x.boxes.filter(i=>i.id!=="box-designer"):t=[],G(t),d&&!t.some(i=>i.id===d.id)&&f(null)},[l,r]),(0,e.useEffect)(()=>{c.state==="success"&&window.scrollTo({top:0,behavior:"smooth"})},[c.state]);let N=l&&r&&d,T=(l?.price||0)+(r?.price||0)+(d?.price||0),_=t=>{t.preventDefault();let i={};if(s.name.trim()||(i.name="Name is required."),s.email.trim()&&!/\S+@\S+\.\S+/.test(s.email)&&(i.email="Email is invalid."),s.phone.trim()||(i.phone="Phone is required."),Object.keys(i).length>0){g(i);return}g({}),a(2),window.scrollTo({top:0,behavior:"smooth"})},U=async()=>{if(!N)return;let t=`
Tie: ${l.name} (${l.color})
Pocket Square: ${r.name} (${r.color})
Box: ${d.name}
${h?`Note: "${h}"`:""}
        `.trim(),i=[{type:"Tie",...l},{type:"Pocket Square",...r},{type:"Box",...d}],Y={...s,preferences:t,selected_items:i};b({state:"loading"});try{await k.submitGiftRequest(Y),b({state:"success"})}catch{b({state:"error",message:"Something went wrong. Please try again."})}},W=()=>{a(1),n({name:"",email:"",phone:""}),u(null),j(null),f(null),C(""),b({state:"idle"}),g({})};return c.state==="success"?e.default.createElement("div",{className:"min-h-screen bg-attire-navy relative overflow-hidden flex items-center justify-center"},e.default.createElement("div",{className:"fixed top-0 left-0 w-full h-screen overflow-hidden pointer-events-none z-0"},e.default.createElement("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-attire-accent/[0.03] rounded-full blur-[160px]"}),e.default.createElement("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/[0.05] rounded-full blur-[140px]"})),e.default.createElement(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative z-10 max-w-lg w-full mx-auto px-4"},e.default.createElement("div",{className:"bg-black/20 backdrop-blur-xl rounded-3xl border border-white/10 shadow-2xl p-8 md:p-10 text-center"},e.default.createElement("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-green-500/20"},e.default.createElement(y,{size:40,className:"text-green-400"})),e.default.createElement("h1",{className:"text-4xl font-serif text-white mb-4"},"Request Sent!"),e.default.createElement("p",{className:"text-attire-silver mb-8 leading-relaxed"},"Thank you, ",s.name,". We have received your custom gift request and will contact you shortly to finalize the details."),e.default.createElement("div",{className:"bg-white/5 rounded-2xl p-6 mb-8 text-left space-y-4"},e.default.createElement("h3",{className:"text-sm font-semibold text-attire-silver uppercase tracking-widest border-b border-white/10 pb-2"},"Your Selection"),e.default.createElement("div",{className:"space-y-3"},e.default.createElement("div",{className:"flex justify-between items-center"},e.default.createElement("span",{className:"text-sm text-attire-silver"},"Tie"),e.default.createElement("span",{className:"text-sm text-white font-medium"},l?.name," ($",l?.price,")")),e.default.createElement("div",{className:"flex justify-between items-center"},e.default.createElement("span",{className:"text-sm text-attire-silver"},"Pocket Square"),e.default.createElement("span",{className:"text-sm text-white font-medium"},r?.name," ($",r?.price,")")),e.default.createElement("div",{className:"flex justify-between items-center"},e.default.createElement("span",{className:"text-sm text-attire-silver"},"Box"),e.default.createElement("span",{className:"text-sm text-white font-medium"},d?.name," ($",d?.price,")")),e.default.createElement("div",{className:"pt-3 border-t border-white/10 flex justify-between items-center"},e.default.createElement("span",{className:"text-base font-serif text-white"},"Total Estimate"),e.default.createElement("span",{className:"text-lg font-mono text-attire-accent"},"$",T.toFixed(2))))),e.default.createElement("button",{onClick:W,className:"w-full py-4 rounded-full font-semibold transition-all duration-300 bg-attire-accent text-black hover:bg-white"},"Create Another Gift")))):e.default.createElement("div",{className:"min-h-screen bg-attire-navy relative overflow-x-clip"},e.default.createElement("div",{className:"fixed top-0 left-0 w-full h-screen overflow-hidden pointer-events-none z-0"},e.default.createElement("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-attire-accent/[0.03] rounded-full blur-[160px]"}),e.default.createElement("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-900/[0.05] rounded-full blur-[140px]"})),e.default.createElement("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-28 sm:py-36"},e.default.createElement("div",{className:"text-center mb-16"},e.default.createElement(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8}},e.default.createElement("span",{className:"text-attire-accent text-xs tracking-[0.3em] uppercase mb-4 inline-block"},"Curate"),e.default.createElement("h1",{className:"text-5xl md:text-7xl font-serif font-light text-white mb-6"},"The perfect gift for gentlemen"),e.default.createElement("p",{className:"text-lg text-attire-silver max-w-2xl mx-auto font-light leading-relaxed"},"Craft a bespoke gift box with our finest accessories. ",e.default.createElement("br",null),"A gesture of timeless elegance."))),e.default.createElement(v,{mode:"wait"},o===1?e.default.createElement(m.div,{key:"step1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"max-w-xl mx-auto"},e.default.createElement("div",{className:"bg-black/20 backdrop-blur-xl rounded-3xl border border-white/10 p-8 md:p-10 shadow-2xl"},e.default.createElement("div",{className:"flex items-center justify-between mb-8"},e.default.createElement("h2",{className:"text-2xl font-serif text-white"},"Your Details"),e.default.createElement("span",{className:"text-attire-silver/50 text-sm font-mono"},"01 / 02")),e.default.createElement("form",{onSubmit:_,className:"space-y-6"},e.default.createElement("div",null,e.default.createElement(z,{label:"Full Name",icon:e.default.createElement(I,{size:18}),type:"text",placeholder:"Enter your name",value:s.name,onChange:t=>n({...s,name:t.target.value})}),p.name&&e.default.createElement("p",{className:"text-red-400 text-xs mt-2 ml-1"},p.name)),e.default.createElement("div",null,e.default.createElement(z,{label:"Email Address",icon:e.default.createElement(F,{size:18}),type:"email",placeholder:"Enter your email",value:s.email,onChange:t=>n({...s,email:t.target.value})}),p.email&&e.default.createElement("p",{className:"text-red-400 text-xs mt-2 ml-1"},p.email)),e.default.createElement("div",null,e.default.createElement(z,{label:"Phone Number",icon:e.default.createElement(O,{size:18}),type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:t=>n({...s,phone:t.target.value})}),p.phone&&e.default.createElement("p",{className:"text-red-400 text-xs mt-2 ml-1"},p.phone)),e.default.createElement("button",{type:"submit",className:"w-full mt-6 py-4 rounded-full font-semibold transition-all duration-300 flex items-center justify-center gap-2 bg-white text-black hover:bg-attire-accent hover:text-black group"},"Start Customizing",e.default.createElement(A,{size:18,className:"group-hover:translate-x-1 transition-transform"}))))):e.default.createElement(m.div,{key:"step2",initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 lg:grid-cols-12 gap-8"},e.default.createElement("div",{className:"lg:col-span-8 space-y-16"},e.default.createElement("section",null,e.default.createElement("div",{className:"flex items-center gap-4 mb-8"},e.default.createElement("div",{className:"h-px flex-grow bg-white/10"}),e.default.createElement("h3",{className:"text-xl font-serif text-white uppercase tracking-widest"},"Select a Tie"),e.default.createElement("div",{className:"h-px flex-grow bg-white/10"})),e.default.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},x.ties.map(t=>e.default.createElement(S,{key:t.id,item:t,isSelected:l?.id===t.id,onSelect:()=>u(i=>i?.id===t.id?null:t),isOutOfStock:w.includes(t.id)})))),e.default.createElement("section",null,e.default.createElement("div",{className:"flex items-center gap-4 mb-8"},e.default.createElement("div",{className:"h-px flex-grow bg-white/10"}),e.default.createElement("h3",{className:"text-xl font-serif text-white uppercase tracking-widest"},"Select a Pocket Square"),e.default.createElement("div",{className:"h-px flex-grow bg-white/10"})),e.default.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},x.pocketSquares.map(t=>e.default.createElement(S,{key:t.id,item:t,isSelected:r?.id===t.id,onSelect:()=>j(i=>i?.id===t.id?null:t),isOutOfStock:w.includes(t.id)})))),e.default.createElement(v,null,$.length>0&&e.default.createElement(m.section,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0}},e.default.createElement("div",{className:"flex items-center gap-4 mb-8 mt-12"},e.default.createElement("div",{className:"h-px flex-grow bg-white/10"}),e.default.createElement("h3",{className:"text-xl font-serif text-white uppercase tracking-widest"},"Select a Box"),e.default.createElement("div",{className:"h-px flex-grow bg-white/10"})),e.default.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6"},$.map(t=>e.default.createElement(S,{key:t.id,item:t,isSelected:d?.id===t.id,onSelect:()=>f(i=>i?.id===t.id?null:t),isOutOfStock:w.includes(t.id)}))))),e.default.createElement("section",{className:"pt-8"},e.default.createElement("label",{className:"block text-xs font-semibold text-attire-silver uppercase tracking-widest mb-4 ml-1"},"Personal Note (Optional)"),e.default.createElement("textarea",{value:h,onChange:t=>C(t.target.value),placeholder:"Add a special message for the recipient...",className:"w-full p-5 rounded-2xl border bg-black/20 text-white placeholder-white/20 focus:border-attire-accent/50 focus:ring-1 focus:ring-attire-accent/30 transition-all border-white/10 resize-none",rows:"4"}))),e.default.createElement("div",{className:"lg:col-span-4"},e.default.createElement("div",{className:"sticky top-28 space-y-6"},e.default.createElement("div",{className:"bg-black/40 backdrop-blur-xl rounded-3xl border border-white/10 shadow-2xl p-8"},e.default.createElement("div",{className:"flex items-center justify-between mb-6"},e.default.createElement("h3",{className:"text-xl font-serif text-white"},"Summary"),e.default.createElement("button",{onClick:()=>a(1),className:"text-xs text-attire-silver hover:text-white underline underline-offset-4 decoration-white/20 hover:decoration-white transition-all"},"Edit Details")),e.default.createElement("div",{className:"space-y-4 mb-8"},e.default.createElement("div",{className:"flex justify-between items-start pb-4 border-b border-white/5"},e.default.createElement("span",{className:"text-sm text-attire-silver"},"For"),e.default.createElement("span",{className:"text-sm text-white font-medium text-right"},s.name)),e.default.createElement(P,{label:"Tie",item:l}),e.default.createElement(P,{label:"Pocket Square",item:r}),e.default.createElement(P,{label:"Gift Box",item:d}),e.default.createElement("div",{className:"pt-4 border-t border-white/5 mt-4 flex justify-between items-center"},e.default.createElement("span",{className:"text-sm font-serif text-white"},"Total Estimate"),e.default.createElement("span",{className:"text-lg font-mono text-attire-accent"},"$",T.toFixed(2)))),c.state==="error"&&e.default.createElement("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-3 mb-4 flex items-center gap-3"},e.default.createElement(q,{size:16,className:"text-red-400"}),e.default.createElement("p",{className:"text-xs text-red-300"},c.message)),e.default.createElement("button",{onClick:U,disabled:!N||c.state==="loading",className:"w-full py-4 rounded-full font-semibold transition-all duration-300 flex items-center justify-center gap-2 bg-attire-accent text-black disabled:bg-white/10 disabled:text-white/30 disabled:cursor-not-allowed hover:bg-white"},c.state==="loading"?e.default.createElement(E,{className:"animate-spin",size:20}):e.default.createElement(e.default.Fragment,null,e.default.createElement(B,{size:20})," Request Gift Box")),!N&&e.default.createElement("p",{className:"text-center text-xs text-attire-silver/50 mt-4"},"Please select all items to proceed."))))))))},P=({label:o,item:a})=>e.default.createElement("div",{className:"flex justify-between items-center"},e.default.createElement("span",{className:"text-sm text-attire-silver"},o),a?e.default.createElement("div",{className:"text-right"},e.default.createElement("div",{className:"flex items-center justify-end gap-2"},e.default.createElement("p",{className:"text-sm text-white font-medium"},a.name),e.default.createElement("span",{className:"text-xs text-attire-accent font-mono"},"$",a.price)),a.color&&e.default.createElement("p",{className:"text-xs text-attire-silver/70"},a.color)):e.default.createElement("span",{className:"text-sm text-white/20 italic"},"Select item")),le=J;export{le as default};
//# sourceMappingURL=CustomizeGiftPage-HZVC5DFC.js.map
